/*!/*@nomin*/(()=>{var e,t={4984:(e,t,r)=>{"use strict";r.r(t),r.d(t,{createServices:()=>Ft,launch:()=>Yt}),r(8674),r(7727);var n=require("vue"),o=r.n(n);const i=["primaryProgressive","close","neutral","back","link"],s=["close","back","link"],a=["close","back"],u=["M","L","XL"];function c(e,t,r,n,o,i,s,a){var u,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=r,c._compiled=!0),n&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),s?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=u):o&&(u=a?function(){o.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:o),u)if(c.functional){c._injectStyles=u;var l=c.render;c.render=function(e,t){return u.call(t),l(e,t)}}else{var p=c.beforeCreate;c.beforeCreate=p?[].concat(p,u):[u]}return{exports:e,options:c}}var l=c(o().extend({name:"EventEmittingButton",props:{type:{type:String,required:!0,validator:e=>-1!==i.indexOf(e)},size:{type:String,required:!0,validator:e=>u.includes(e)},message:{required:!0,type:String},href:{type:String,required:!1,default:null},preventDefault:{type:Boolean,required:!1,default:!0},disabled:{type:Boolean,required:!1,default:!1},squary:{type:Boolean,required:!1,default:!1},newTab:{type:Boolean,required:!1,default:!1}},data:()=>({isPressed:!1}),computed:{isIconOnly(){return a.includes(this.type)},isFrameless(){return s.includes(this.type)},opensInNewTab(){return null!==this.href&&this.newTab},tabindex(){return this.disabled?-1:this.href?null:0}},methods:{handleSpacePress(e){this.simulateSpaceOnButton()&&(this.preventScrollingDown(e),this.isPressed=!0,this.click(e))},handleEnterPress(e){this.isPressed=!0,this.thereIsNoSeparateClickEvent()&&this.click(e)},unpress(){this.isPressed=!1},click(e){this.preventDefault&&this.preventOpeningLink(e),this.disabled||this.$emit("click",e)},preventOpeningLink(e){e.preventDefault()},preventScrollingDown(e){e.preventDefault()},thereIsNoSeparateClickEvent(){return null===this.href},simulateSpaceOnButton(){return null===this.href}}}),(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("a",{staticClass:"wb-ui-event-emitting-button",class:["wb-ui-event-emitting-button--"+this.type,"wb-ui-event-emitting-button--size-"+this.size,{"wb-ui-event-emitting-button--squary":e.squary,"wb-ui-event-emitting-button--pressed":e.isPressed,"wb-ui-event-emitting-button--iconOnly":e.isIconOnly,"wb-ui-event-emitting-button--frameless":e.isFrameless,"wb-ui-event-emitting-button--disabled":e.disabled}],attrs:{href:e.href,tabindex:e.tabindex,role:e.href?"link":"button","aria-disabled":e.disabled?"true":null,title:e.message,target:e.opensInNewTab?"_blank":null,rel:e.opensInNewTab?"noreferrer noopener":null},on:{click:e.click,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleEnterPress(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:e.handleSpacePress(t)}],keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.unpress(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:e.unpress(t)}]}},[r("span",{staticClass:"wb-ui-event-emitting-button__text"},[e._v(e._s(e.message))])])}),[],!1,null,null,null).exports;const p=["error","warning","notice"];var d,f,g=c(o().extend({name:"IconMessageBox",props:{type:{type:String,required:!0,validator:e=>p.includes(e)},inline:{type:Boolean,required:!1,default:!1}}}),(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"wb-ui-icon-message-box",class:["wb-ui-icon-message-box--"+this.type,{"wb-ui-icon-message-box--block":!this.inline}]},[t("div",{staticClass:"wb-ui-icon-message-box__content"},[this._t("default")],2)])}),[],!1,null,null,null).exports,y=c(o().extend({name:"WarningAnonymousEdit",components:{EventEmittingButton:l,IconMessageBox:g},props:{loginUrl:{type:String,required:!0}},methods:{proceed(){this.$emit("proceed")}}}),(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wb-db-warning-anonymous-edit"},[r("h2",{staticClass:"wb-db-warning-anonymous-edit__heading"},[e._v(" "+e._s(e.$messages.getText(e.$messages.KEYS.ANONYMOUS_EDIT_WARNING_HEADING))+" ")]),r("IconMessageBox",{staticClass:"wb-db-warning-anonymous-edit__message",attrs:{type:"warning"}},[r("p",{staticClass:"wb-db-warning-anonymous-edit__message-text",domProps:{innerHTML:e._s(e.$messages.get(e.$messages.KEYS.ANONYMOUS_EDIT_WARNING_MESSAGE))}})]),r("div",{staticClass:"wb-db-warning-anonymous-edit__buttons"},[r("EventEmittingButton",{staticClass:"wb-db-warning-anonymous-edit__proceed",attrs:{type:"primaryProgressive",size:"M",message:e.$messages.getText(e.$messages.KEYS.ANONYMOUS_EDIT_WARNING_PROCEED)},on:{click:e.proceed}}),r("EventEmittingButton",{staticClass:"wb-db-warning-anonymous-edit__login",attrs:{type:"neutral",size:"M",message:e.$messages.getText(e.$messages.KEYS.ANONYMOUS_EDIT_WARNING_LOGIN),href:e.loginUrl,"prevent-default":!1}})],1)],1)}),[],!1,null,null,null).exports,h=r(3019);!function(e){e.saved="saved",e.cancel="cancel",e.reload="reload"}(d||(d={})),function(e){e.relaunch="relaunch"}(f||(f={}));var m,E,b=(0,h.Z)((0,h.Z)({},d),f),v=r(6198);r(3948);class _ extends Error{constructor(e){super(e[0].code),this.errors=e}}class S extends Error{constructor(e){super("Saving failed."),this.errors=e}}!function(e){e.INITIALIZING="initializing",e.READY="ready",e.SAVING="saving",e.SAVED="saved"}(m||(m={})),function(e){e.ERROR="error"}(E||(E={}));var O,T=(0,h.Z)((0,h.Z)({},m),E);class R{constructor(e,t,r){this.entityId=e,this.propertyId=t,this.index=r}resolveStatementGroup(e){var t,r;return null!==(t=null==e||null===(r=e[this.entityId])||void 0===r?void 0:r[this.propertyId])&&void 0!==t?t:null}resolveStatement(e){var t,r;return null!==(t=null===(r=this.resolveStatementGroup(e))||void 0===r?void 0:r[this.index])&&void 0!==t?t:null}resolveSnakInStatement(e){var t,r;return null!==(t=null===(r=this.resolveStatement(e))||void 0===r?void 0:r.mainsnak)&&void 0!==t?t:null}}!function(e){e.INITIALIZATION_ERROR="INITIALIZATION_ERROR",e.APPLICATION_LOGIC_ERROR="APPLICATION_LOGIC_ERROR",e.INVALID_ENTITY_STATE_ERROR="INVALID_ENTITY_STATE_ERROR",e.UNSUPPORTED_AMBIGUOUS_STATEMENT="UNSUPPORTED_AMBIGUOUS_STATEMENT",e.UNSUPPORTED_DEPRECATED_STATEMENT="UNSUPPORTED_DEPRECATED_STATEMENT",e.UNSUPPORTED_SNAK_TYPE="UNSUPPORTED_SNAK_TYPE",e.UNSUPPORTED_DATATYPE="UNSUPPORTED_DATATYPE",e.UNSUPPORTED_DATAVALUE_TYPE="UNSUPPORTED_DATAVALUE_TYPE",e.SAVING_FAILED="SAVING_FAILED",e.ASSERT_ANON_FAILED="ASSERT_ANON_FAILED",e.ASSERT_USER_FAILED="ASSERT_USER_FAILED",e.ASSERT_NAMED_USER_FAILED="ASSERT_NAMED_USER_FAILED",e.EDIT_CONFLICT="EDIT_CONFLICT",e.BAD_TAGS="BAD_TAGS",e.NO_SUCH_REVID="NO_SUCH_REVID",e.CENTRALAUTH_BADTOKEN="CENTRALAUTH_BADTOKEN"}(O||(O={}));var w=require("vuex"),A=function(){return(A=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},I=function(){function e(){}return e.prototype.$init=function(e){},Object.defineProperty(e.prototype,"state",{get:function(){return this.__ctx__.state},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getters",{get:function(){return this.__ctx__.getters},enumerable:!0,configurable:!0}),e}(),P=function(){function e(){}return Object.defineProperty(e.prototype,"state",{get:function(){return this.__ctx__.state},enumerable:!0,configurable:!0}),e}(),N=function(){function e(){}return e.prototype.$init=function(e){},Object.defineProperty(e.prototype,"state",{get:function(){return this.__ctx__.state},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getters",{get:function(){return this.__ctx__.getters},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"commit",{get:function(){return this.__ctx__.commit},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dispatch",{get:function(){return this.__ctx__.dispatch},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"actions",{get:function(){return this.__ctx__.actions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mutations",{get:function(){return this.__ctx__.mutations},enumerable:!0,configurable:!0}),e}(),k=function(){};function x(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){e.forEach((function(e){return e(t)}))}}function D(e,t){return e.reduce((function(e,t){return e[t]}),t)}function C(e,t){var r={};return Object.keys(e).forEach((function(n){r[n]=t(e[n],n)})),r}function M(e,t){if(!e)throw new Error("[vuex-smart-module] "+t)}function L(e){console.warn("[vuex-smart-module] DEPRECATED: "+e)}function U(e,t,r,n){void 0===n&&(n={constructor:!0}),e.constructor!==t&&(Object.getOwnPropertyNames(e).forEach((function(t){if(!n[t]){n[t]=!0;var o=Object.getOwnPropertyDescriptor(e,t);r(o,t)}})),U(Object.getPrototypeOf(e),t,r,n))}function $(e,t){var r=[];return U(e,t,(function(e,t){"function"==typeof e.value&&r.push(t)})),r}function j(e){var t="The module need to be registered a store before using `Module#context` or `createMapper`";return{get path(){return M(void 0!==e.path,t),e.path},get namespace(){return M(void 0!==e.namespace,t),e.namespace}}}function B(e,t,r,n,o){return"string"==typeof r?e(t+r,n,o):e(A(A({},r),{type:t+r.type}),n)}function G(e,t,r,n,o){B(e.commit,t,r,n,o)}function F(e,t,r,n,o){return B(e.dispatch,t,r,n,o)}function Y(e,t){var r=t.length,n={};return Object.keys(e.getters).forEach((function(o){var i=t===o.slice(0,r),s=o.slice(r);i&&s&&Object.defineProperty(n,s,{get:function(){return e.getters[o]},enumerable:!0})})),n}var H=function(){function e(e,t,r,n){var o=this;this.pos=e,this.store=t,this.mutationsClass=r,this.actionsClass=n,this.commit=function(e,t,r){return G(o.store,o.pos.namespace,e,t,r)},this.dispatch=function(e,t,r){return F(o.store,o.pos.namespace,e,t,r)}}return Object.defineProperty(e.prototype,"mutations",{get:function(){var e=this;if(this.__mutations__)return this.__mutations__;var t={};return this.mutationsClass&&$(this.mutationsClass.prototype,P).forEach((function(r){Object.defineProperty(t,r,{value:function(t){return e.commit(r,t)},enumerable:!0})})),this.__mutations__=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"actions",{get:function(){var e=this;if(this.__actions__)return this.__actions__;var t={};return this.actionsClass&&$(this.actionsClass.prototype,N).forEach((function(r){Object.defineProperty(t,r,{value:function(t){return e.dispatch(r,t)},enumerable:!0})})),this.__actions__=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return D(this.pos.path,this.store.state)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getters",{get:function(){return Y(this.store,this.pos.namespace)},enumerable:!0,configurable:!0}),e}(),K=function(){function e(e){this.pos=e}return e.prototype.mapState=function(e){var t=this.pos;return W(e,(function(e){return function(){var r=D(t.path,this.$store.state);if("function"==typeof e){var n=Y(this.$store,t.namespace);return e.call(this,r,n)}return r[e]}}))},e.prototype.mapGetters=function(e){var t=this.pos;return W(e,(function(e){function r(){return this.$store.getters[t.namespace+e]}return r.vuex=!0,r}))},e.prototype.mapMutations=function(e){var t=this.pos;return W(e,(function(e){return function(){for(var r=this,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i=function(e,n){return G(r.$store,t.namespace,e,n)};return"function"==typeof e?e.apply(this,[i].concat(n)):i(e,n[0])}}))},e.prototype.mapActions=function(e){var t=this.pos;return W(e,(function(e){return function(){for(var r=this,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i=function(e,n){return F(r.$store,t.namespace,e,n)};return"function"==typeof e?e.apply(this,[i].concat(n)):i(e,n[0])}}))},e}();function W(e,t){return C(Array.isArray(e)?e.reduce((function(e,t){return e[t]=t,e}),{}):e,t)}var V=function(){function e(e){void 0===e&&(e={}),this.options=e,this.mapper=new K(j(this))}return e.prototype.clone=function(){var t=A({},this.options);return t.modules&&(t.modules=C(t.modules,(function(e){return e.clone()}))),new e(t)},e.prototype.context=function(e){return new H(j(this),e,this.options.mutations,this.options.actions)},e.prototype.mapState=function(e){return L("`Module#mapState` is deprecated. Use `createMapper` instead."),this.mapper.mapState(e)},e.prototype.mapGetters=function(e){return L("`Module#mapGetters` is deprecated. Use `createMapper` instead."),this.mapper.mapGetters(e)},e.prototype.mapMutations=function(e){return L("`Module#mapMutations` is deprecated. Use `createMapper` instead."),this.mapper.mapMutations(e)},e.prototype.mapActions=function(e){return L("`Module#mapActions` is deprecated. Use `createMapper` instead."),this.mapper.mapActions(e)},e.prototype.create=function(e,t){M(!this.path||this.path.join(".")===e.join("."),"You are reusing one module on multiple places in the same store.\nClone it by `module.clone()` method to make sure every module in the store is unique."),this.path=e,this.namespace=t;var r=this.options,n=r.namespaced,o=r.state,i=r.getters,s=r.mutations,a=r.actions,u=r.modules,c=u?Object.keys(u).reduce((function(r,o){var i=u[o],s=void 0===i.options.namespaced||i.options.namespaced?o+"/":"",a=i.create(e.concat(o),n?t+s:s);return r.options[o]=a.options,r.injectStore=x(r.injectStore,a.injectStore),r}),{options:{},injectStore:k}):void 0,l=i&&function(e,t){var r=new e,n={};return U(e.prototype,I,(function(e,t){if("function"==typeof e.value||e.get){var o=e.value,i=e.get;n[t]=function(){var e=r;return i?i.call(e):o?o.bind(e):void 0}}})),{getters:n,injectStore:function(e){var n=t.context(e);Object.defineProperty(r,"__ctx__",{get:function(){return n}}),r.$init(e)}}}(i,this),p=s&&function(e,t){var r=new e,n={};return U(e.prototype,P,(function(e,t){"function"==typeof e.value&&(n[t]=function(e,n){var o=r;return r[t].call(o,n)})})),{mutations:n,injectStore:function(e){var n=t.context(e);Object.defineProperty(r,"__ctx__",{get:function(){return n}})}}}(s,this),d=a&&function(e,t){var r=new e,n={};return U(e.prototype,N,(function(e,t){"function"==typeof e.value&&(n[t]=function(e,n){var o=r;return r[t].call(o,n)})})),{actions:n,injectStore:function(e){var n=t.context(e);Object.defineProperty(r,"__ctx__",{get:function(){return n}}),r.$init(e)}}}(a,this);return{options:{namespaced:void 0===n||n,state:o?new o:{},getters:l&&l.getters,mutations:p&&p.mutations,actions:d&&d.actions,modules:c&&c.options},injectStore:x(c?c.injectStore:k,l?l.injectStore:k,p?p.injectStore:k,d?d.injectStore:k)}},e}();class q{constructor(){this.id="",this.baseRevision=0}}class z{constructor(e,t){this.id=e,this.statements=t}}class Z{constructor(e,t){this.entity=e,this.revisionId=t}}function J(e){return JSON.parse(JSON.stringify(e))}r(8862);const X=new V({state:class{},mutations:class extends P{setStatements(e){o().set(this.state,e.entityId,J(e.statements))}reset(){for(const e of Object.getOwnPropertyNames(this.state))o().delete(this.state,e)}},actions:class extends N{initStatements(e){return this.commit("setStatements",{entityId:e.entityId,statements:e.statements}),Promise.resolve()}},getters:class extends I{get containsEntity(){return e=>void 0!==this.state[e]}get propertyExists(){return e=>null!==e.resolveStatementGroup(this.state)}get isStatementGroupAmbiguous(){return e=>{const t=e.resolveStatementGroup(this.state);return null!==t&&t.length>1}}get rank(){return e=>{var t;const r=e.resolveStatement(this.state);return null!==(t=null==r?void 0:r.rank)&&void 0!==t?t:null}}get dataValue(){return e=>{var t;const r=e.resolveSnakInStatement(this.state);return null!==(t=null==r?void 0:r.datavalue)&&void 0!==t?t:null}}get snakType(){return e=>{var t;const r=e.resolveSnakInStatement(this.state);return null!==(t=null==r?void 0:r.snaktype)&&void 0!==t?t:null}}get dataType(){return e=>{var t;const r=e.resolveSnakInStatement(this.state);return null!==(t=null==r?void 0:r.datatype)&&void 0!==t?t:null}}get dataValueType(){return e=>{var t,r;const n=e.resolveSnakInStatement(this.state);return null!==(t=null==n||null===(r=n.datavalue)||void 0===r?void 0:r.type)&&void 0!==t?t:null}}}}),Q=new V({state:q,mutations:class extends P{updateEntity(e){this.state.id=e.id}updateRevision(e){this.state.baseRevision=e}reset(){Object.assign(this.state,new q)}},actions:class extends N{$init(e){this.store=e,this.statementsModule=X.context(e)}entityInit(e){return this.store.$services.get("readingEntityRepository").getEntity(e.entity).then((e=>this.dispatch("entityWrite",e)))}entitySave(e){const t=this.state.id,r=new z(t,e.statements),n=new Z(new z(t,this.statementsModule.state[t]),this.state.baseRevision);return this.store.$services.get("writingEntityRepository").saveEntity(r,n,e.assertUser).then((e=>this.dispatch("entityWrite",e)))}entityWrite(e){return this.commit("updateRevision",e.revisionId),this.commit("updateEntity",e.entity),this.statementsModule.dispatch("initStatements",{entityId:e.entity.id,statements:e.entity.statements})}}});var ee;!function(e){e.REPLACE="replace",e.UPDATE="update"}(ee||(ee={}));var te,re=ee;!function(e){e.NO_SNAK_FOUND="snak not found",e.NO_STATEMENT_GROUP_FOUND="statement group not found",e.INCONSISTENT_PAYLOAD_TYPE="targetvalue's datavalue type is different from the snak's datavalue type in the state"}(te||(te={}));var ne=te;class oe{apply(e,t,r){const n=t.resolveSnakInStatement(r);if(null===n)throw new Error(ne.NO_SNAK_FOUND);if(void 0!==n.datavalue&&e.type!==n.datavalue.type)throw new Error(ne.INCONSISTENT_PAYLOAD_TYPE);return n.snaktype="value",n.datavalue=e,r}}class ie{apply(e,t,r){const n=t.resolveStatementGroup(r),o=t.resolveStatement(r);if(null===n)throw new Error(ne.NO_STATEMENT_GROUP_FOUND);if(null===o)throw new Error(ne.NO_SNAK_FOUND);const i=o.mainsnak;if(void 0!==i.datavalue&&e.type!==i.datavalue.type)throw new Error(ne.INCONSISTENT_PAYLOAD_TYPE);o.rank="normal";const s=this.buildNewPreferredStatement(i,e);return n.push(s),r}buildNewPreferredStatement(e,t){return{rank:"preferred",type:"statement",mainsnak:{snaktype:"value",property:e.property,datatype:e.datatype,datavalue:t}}}}function se(e){switch(e){case re.REPLACE:return new oe;case re.UPDATE:return new ie}}var ae=r(251),ue=r.n(ae),ce=r(3843);class le{constructor(){this.applicationErrors=[],this.applicationStatus=m.INITIALIZING,this.editDecision=null,this.targetValue=null,this.renderedTargetReferences=[],this.editFlow="",this.entityTitle="",this.originalHref="",this.pageTitle="",this.targetLabel=null,this.targetProperty="",this.pageUrl="",this.showWarningAnonymousEdit=!1,this.assertUserWhenSaving=!0,this.config={usePublish:null,issueReportingLink:null,stringMaxLength:null,dataRightsText:null,dataRightsUrl:null,termsOfUseUrl:null}}}class pe extends P{setPropertyPointer(e){this.state.targetProperty=e}setEditFlow(e){this.state.editFlow=e}setApplicationStatus(e){this.state.applicationStatus=e}setTargetLabel(e){this.state.targetLabel=e}setRenderedTargetReferences(e){this.state.renderedTargetReferences=e}addApplicationErrors(e){this.state.applicationErrors.push(...e)}clearApplicationErrors(){this.state.applicationErrors=[]}setEditDecision(e){this.state.editDecision=e}setTargetValue(e){this.state.targetValue=J(e)}setEntityTitle(e){this.state.entityTitle=e}setPageTitle(e){this.state.pageTitle=e}setOriginalHref(e){this.state.originalHref=e}setPageUrl(e){this.state.pageUrl=e}setShowWarningAnonymousEdit(e){this.state.showWarningAnonymousEdit=e}setAssertUserWhenSaving(e){this.state.assertUserWhenSaving=e}setClientConfig(e){this.state.config=(0,h.Z)((0,h.Z)({},this.state.config),e)}setRepoConfig(e){var t;this.state.config=(0,h.Z)((0,h.Z)({},this.state.config),{},{stringMaxLength:null===(t=e.dataTypeLimits)||void 0===t?void 0:t.string.maxLength,dataRightsText:e.dataRightsText,dataRightsUrl:e.dataRightsUrl,termsOfUseUrl:e.termsOfUseUrl})}reset(){Object.assign(this.state,new le)}}function de(e){return t=>{t.subscribe((({type:t,payload:r})=>{(function(e,t){return e===pe.prototype.addApplicationErrors.name})(t)&&r.forEach((t=>e.trackError(t.type)))}))}}const fe=new V({state:le,getters:class extends I{$init(e){this.statementModule=X.context(e)}get targetLabel(){var e;return null!==(e=this.state.targetLabel)&&void 0!==e?e:{language:"zxx",value:this.state.targetProperty}}get targetReferences(){try{var e;const t=this.state,r=t.entity.id;return null!==(e=t.statements[r][this.state.targetProperty][0].references)&&void 0!==e?e:[]}catch(e){return[]}}get isTargetValueModified(){if(this.state.applicationStatus===T.INITIALIZING)return!1;const e=this.state,t=e.entity.id;return!ue()(this.state.targetValue,e.statements[t][this.state.targetProperty][0].mainsnak.datavalue,{strict:!0})}get canStartSaving(){return null!==this.state.editDecision&&this.getters.isTargetValueModified&&this.getters.applicationStatus===T.READY}get isGenericSavingError(){return this.state.applicationErrors.length>0&&this.state.applicationErrors.every((e=>[O.SAVING_FAILED,O.BAD_TAGS,O.NO_SUCH_REVID,O.ASSERT_NAMED_USER_FAILED].includes(e.type)))}get isAssertUserFailedError(){return 1===this.state.applicationErrors.length&&this.state.applicationErrors[0].type===O.ASSERT_USER_FAILED}get isEditConflictError(){return 1===this.state.applicationErrors.length&&this.state.applicationErrors[0].type===O.EDIT_CONFLICT}get canGoToPreviousState(){return this.getters.isGenericSavingError||this.getters.isAssertUserFailedError}get applicationStatus(){return this.state.applicationErrors.length>0?T.ERROR:this.state.applicationStatus}get reportIssueTemplateBody(){const e=this.state.pageUrl,t=this.state.applicationErrors.map((e=>(0,ce.serializeError)(e))),r=JSON.stringify(t,null,4);return["The error happened on: "+e,"Item title: "+this.state.entityTitle,"Property: "+this.state.targetProperty,"Error message: "+this.state.applicationErrors[0].type,"Approximate time of request: "+(new Date).toISOString(),"Debug information:","```",r,"```"].join("\n")}get issueReportingLinkConfig(){const e=this.state.config;if(null===e.issueReportingLink)throw new Error("not correctly initialized");return e.issueReportingLink}get config(){return this.state.config}},mutations:pe,actions:class extends N{$init(e){this.store=e,this.entityModule=Q.context(e),this.statementModule=X.context(e),this.statementMutationFactory=se}relaunchBridge(e){return this.commit("reset"),this.entityModule.commit("reset"),this.statementModule.commit("reset"),this.dispatch("initBridge",e)}initBridge(e){this.commit("setEditFlow",e.editFlow),this.commit("setPropertyPointer",e.propertyId),this.commit("setEntityTitle",e.entityTitle),this.commit("setOriginalHref",e.originalHref),this.commit("setPageTitle",e.pageTitle),this.commit("setPageUrl",e.pageUrl),this.commit("setClientConfig",e.client),this.commit("setShowWarningAnonymousEdit",null===e.userName),this.dispatch("requestAndSetTargetLabel",e.propertyId);const t=e=>e instanceof _&&e.errors.some((e=>"badtoken"===e.code&&"apierror-centralauth-badtoken"===e.params[0])),r=()=>Promise.all([this.store.$services.get("wikibaseRepoConfigRepository").getRepoConfiguration(),this.store.$services.get("editAuthorizationChecker").canUseBridgeForItemAndPage(e.entityTitle,e.pageTitle),this.store.$services.get("propertyDatatypeRepository").getDataType(e.propertyId),this.entityModule.dispatch("entityInit",{entity:e.entityId})]);return r().catch((e=>{if(!t(e))throw e;return r().then((e=>(this.store.$services.get("tracker").trackRecoveredError(O.CENTRALAUTH_BADTOKEN),e)))})).then((e=>this.dispatch("initBridgeWithRemoteData",{results:e})),(e=>{const r=t(e)?O.CENTRALAUTH_BADTOKEN:O.INITIALIZATION_ERROR;throw this.commit("addApplicationErrors",[{type:r,info:e}]),e})).then((()=>{this.commit("setApplicationStatus",T.READY)}))}initBridgeWithRemoteData({results:[e,t,r,n]}){var o=this;return(0,v.Z)((function*(){if(!t.length){o.store.$services.get("tracker").trackPropertyDatatype(r);try{yield o.dispatch("renderReferences")}catch(e){o.store.$services.get("tracker").trackError("render_references")}return o.commit("setRepoConfig",e),o.dispatch("postEntityLoad")}o.commit("addApplicationErrors",t)}))()}renderReferences(){var e=this;return(0,v.Z)((function*(){const t=yield e.store.$services.get("referencesRenderingRepository").getRenderedReferences(e.getters.targetReferences);e.commit("setRenderedTargetReferences",t)}))()}postEntityLoad(){var e=this;return(0,v.Z)((function*(){const t=e.state,r=new R(t.entity.id,t.targetProperty,0);yield e.dispatch("validateEntityState",r),e.getters.applicationStatus!==T.ERROR&&e.commit("setTargetValue",r.resolveSnakInStatement(t.statements).datavalue)}))()}requestAndSetTargetLabel(e){return this.store.$services.get("entityLabelRepository").getLabel(e).then((e=>{this.commit("setTargetLabel",e)}),(e=>{}))}validateEntityState(e){return this.statementModule.getters.propertyExists(e)?this.dispatch("validateBridgeApplicability",e):(this.commit("addApplicationErrors",[{type:O.INVALID_ENTITY_STATE_ERROR}]),Promise.resolve())}validateBridgeApplicability(e){if(this.state.applicationStatus===T.SAVED)return Promise.resolve();if(this.statementModule.getters.isStatementGroupAmbiguous(e))return this.dispatch("addError",[{type:O.UNSUPPORTED_AMBIGUOUS_STATEMENT}]);if("deprecated"===this.statementModule.getters.rank(e))return this.dispatch("addError",[{type:O.UNSUPPORTED_DEPRECATED_STATEMENT}]);const t=this.statementModule.getters.snakType(e);if(null===t)throw new Error("If snak type is missing, there should have been an error earlier");if("value"!==t){const e={type:O.UNSUPPORTED_SNAK_TYPE,info:{snakType:t}};return this.dispatch("addError",[e])}const r=this.statementModule.getters.dataType(e);if(null===r)throw new Error("If snak is missing, there should have been an error earlier");if("string"!==r){const e={type:O.UNSUPPORTED_DATATYPE,info:{unsupportedDatatype:r}};return this.dispatch("addError",[e])}return"string"!==this.statementModule.getters.dataValueType(e)?this.dispatch("addError",[{type:O.UNSUPPORTED_DATAVALUE_TYPE}]):Promise.resolve()}setTargetValue(e){return this.state.applicationStatus!==T.READY?(this.commit("addApplicationErrors",[{type:O.APPLICATION_LOGIC_ERROR,info:{stack:(new Error).stack}}]),Promise.reject(null)):(this.commit("setTargetValue",e),Promise.resolve())}saveBridge(){var e=this;return(0,v.Z)((function*(){if(e.state.applicationStatus!==T.READY)return e.commit("addApplicationErrors",[{type:O.APPLICATION_LOGIC_ERROR,info:{stack:(new Error).stack}}]),Promise.reject(null);e.commit("setApplicationStatus",T.SAVING);const t=e.state,r=t.entity.id,n=new R(r,t.targetProperty,0);let o;try{o=e.statementMutationFactory(t.editDecision).apply(t.targetValue,n,J(t.statements))}catch(t){throw e.commit("addApplicationErrors",[{type:O.APPLICATION_LOGIC_ERROR,info:t}]),t}return e.entityModule.dispatch("entitySave",{statements:o[r],assertUser:e.state.assertUserWhenSaving}).catch((t=>{throw t instanceof S&&t.errors.some((e=>e.type===O.EDIT_CONFLICT))&&e.dispatch("purgeTargetPage"),t instanceof S?e.commit("addApplicationErrors",t.errors):e.commit("addApplicationErrors",[{type:O.SAVING_FAILED,info:t}]),t})).then((()=>e.dispatch("purgeTargetPage"))).then((()=>(e.commit("setApplicationStatus",T.SAVED),e.dispatch("postEntityLoad"))))}))()}purgeTargetPage(){return this.store.$services.get("purgeTitles").purge([this.state.pageTitle]).catch((()=>{this.store.$services.get("tracker").trackError("purge")}))}retrySave(){var e=this;return(0,v.Z)((function*(){return yield e.dispatch("goBackFromErrorToReady"),e.dispatch("saveBridge")}))()}goBackFromErrorToReady(){return this.commit("clearApplicationErrors"),this.commit("setApplicationStatus",T.READY),Promise.resolve()}addError(e){return this.commit("addApplicationErrors",e),Promise.resolve()}setEditDecision(e){return this.commit("setEditDecision",e),Promise.resolve()}trackErrorsFallingBackToGenericView(){var e=this;return(0,v.Z)((function*(){for(const t of e.state.applicationErrors)e.store.$services.get("tracker").trackUnknownError(t.type)}))()}trackSavingErrorsFallingBackToGenericView(){var e=this;return(0,v.Z)((function*(){for(const t of e.state.applicationErrors)e.store.$services.get("tracker").trackSavingUnknownError(t.type)}))()}dismissWarningAnonymousEdit(){return this.commit("setShowWarningAnonymousEdit",!1),Promise.resolve()}stopAssertingUserWhenSaving(){return this.commit("setAssertUserWhenSaving",!1),Promise.resolve()}},modules:{entity:Q,statements:X}});function ge(e){const t=function(e,t){void 0===t&&(t={});var r=e.create([],""),n=r.options,o=r.injectStore;return new w.Store(A(A(A({},n),t),{plugins:[o].concat(t.plugins||[])}))}(fe,{strict:!1,plugins:[de(e.get("tracker"))]});return t.$services=e,t}var ye,he=o().extend({computed:{rootModule(){return fe.context(this.$store)}}}),me=c(o().extend({name:"RadioGroup"}),(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"wb-db-radio-group"},[this._t("default")],2)}),[],!1,null,null,null).exports,Ee=c(o().extend({name:"RadioInput",data:()=>({id:"wb-ui-radio-input-"+Math.floor(1e6*Math.random())}),props:{name:{type:String,required:!0},htmlValue:{type:String,required:!0},disabled:{type:Boolean,default:!1},value:{type:String,default:""}},computed:{initiallyChecked(){return this.value===this.htmlValue}}}),(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wb-ui-radio-input"},[r("input",{attrs:{name:e.name,type:"radio",id:e.id,disabled:e.disabled},domProps:{value:e.htmlValue,checked:e.initiallyChecked},on:{change:function(t){return e.$emit("input",t.target.value)}}}),r("span"),r("label",{attrs:{for:e.id}},[r("span",{staticClass:"wb-ui-radio-input__main-label"},[e._t("label")],2),r("span",{staticClass:"wb-ui-radio-input__description"},[e._t("description")],2)])])}),[],!1,null,null,null).exports,be=c(o().extend({mixins:[he],name:"EditDecision",components:{RadioGroup:me,RadioInput:Ee},computed:{editDecision:{get(){return this.rootModule.state.editDecision},set(e){if(null===e)throw new Error("Cannot set editDecision back to null!");this.rootModule.dispatch("setEditDecision",e)}}}}),(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wb-db-edit-decision"},[r("h2",{staticClass:"wb-db-edit-decision__heading"},[e._v(" "+e._s(e.$messages.getText(e.$messages.KEYS.EDIT_DECISION_HEADING))+" ")]),r("RadioGroup",[r("RadioInput",{attrs:{name:"editDecision","html-value":"replace",value:"editDecision"},on:{input:function(t){e.editDecision=t}},scopedSlots:e._u([{key:"label",fn:function(){return[r("span",{domProps:{innerHTML:e._s(e.$messages.get(e.$messages.KEYS.EDIT_DECISION_REPLACE_LABEL))}})]},proxy:!0},{key:"description",fn:function(){return[e._v(" "+e._s(e.$messages.getText(e.$messages.KEYS.EDIT_DECISION_REPLACE_DESCRIPTION))+" ")]},proxy:!0}])}),r("RadioInput",{attrs:{name:"editDecision","html-value":"update",value:"editDecision"},on:{input:function(t){e.editDecision=t}},scopedSlots:e._u([{key:"label",fn:function(){return[r("span",{domProps:{innerHTML:e._s(e.$messages.get(e.$messages.KEYS.EDIT_DECISION_UPDATE_LABEL))}})]},proxy:!0},{key:"description",fn:function(){return[e._v(" "+e._s(e.$messages.getText(e.$messages.KEYS.EDIT_DECISION_UPDATE_DESCRIPTION))+" ")]},proxy:!0}])})],1)],1)}),[],!1,null,null,null).exports,ve=c(o().extend({name:"TermLabel",props:{term:{type:Object,required:!0},inLanguage:{type:Function,required:!0}}}),(function(){var e=this.$createElement;return(this._self._c||e)("span",this._b({staticClass:"wb-db-term-label"},"span",this.inLanguage(this.term.language),!1),[this._v(this._s(this.term.value))])}),[],!1,null,null,null).exports,_e=c(o().extend({name:"PropertyLabel",components:{TermLabel:ve},props:{term:{type:Object,required:!0},htmlFor:{type:String,required:!0}}}),(function(){var e=this.$createElement,t=this._self._c||e;return t("label",{staticClass:"wb-db-property-label",attrs:{for:this.htmlFor}},[t("TermLabel",{attrs:{term:this.term,"in-language":this.$inLanguage}})],1)}),[],!1,null,null,null).exports,Se=(r(4916),r(5306),r(3279)),Oe=r.n(Se),Te=c(o().extend({name:"ResizingTextField",props:{value:{type:String,required:!1,default:""},maxLength:{type:Number,default:null}},data:()=>({windowResizeHandler:void 0}),mounted(){this.windowResizeHandler=Oe()((()=>this.resizeTextField()),100),window.addEventListener("resize",this.windowResizeHandler),this.resizeTextField()},destroyed(){void 0!==this.windowResizeHandler&&(window.removeEventListener("resize",this.windowResizeHandler),this.windowResizeHandler=void 0)},methods:{setValue(e){this.$emit("input",this.removeNewlines(e.target.value)),this.$forceUpdate(),this.$nextTick().then((()=>{this.resizeTextField()}))},removeNewlines:e=>e.replace(/\r?\n/g,""),resizeTextField(){const e=this.$el;e.style.height="0";const t=this.getPropertyValueInPx(e,"border-top-width")+this.getPropertyValueInPx(e,"border-bottom-width");e.style.height=this.$el.scrollHeight+t+"px"},getPropertyValueInPx:(e,t)=>parseInt(window.getComputedStyle(e).getPropertyValue(t))}}),(function(){var e=this,t=e.$createElement;return(e._self._c||t)("textarea",{attrs:{maxlength:e.maxLength},domProps:{value:e.value},on:{input:e.setValue,keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()}}})}),[],!1,null,null,null).exports,Re=new Uint8Array(16);function we(){if(!ye&&!(ye="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ye(Re)}for(var Ae=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Ie=function(e){return"string"==typeof e&&Ae.test(e)},Pe=[],Ne=0;Ne<256;++Ne)Pe.push((Ne+256).toString(16).substr(1));var ke,xe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(Pe[e[t+0]]+Pe[e[t+1]]+Pe[e[t+2]]+Pe[e[t+3]]+"-"+Pe[e[t+4]]+Pe[e[t+5]]+"-"+Pe[e[t+6]]+Pe[e[t+7]]+"-"+Pe[e[t+8]]+Pe[e[t+9]]+"-"+Pe[e[t+10]]+Pe[e[t+11]]+Pe[e[t+12]]+Pe[e[t+13]]+Pe[e[t+14]]+Pe[e[t+15]]).toLowerCase();if(!Ie(r))throw TypeError("Stringified UUID is invalid");return r},De=function(e,t,r){var n=(e=e||{}).random||(e.rng||we)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var o=0;o<16;++o)t[r+o]=n[o];return t}return xe(n)},Ce=c(o().extend({name:"StringDataValue",props:{dataValue:{type:Object,required:!1,default:null},label:{type:Object,required:!0},placeholder:{required:!1,type:String,default:void 0},maxlength:{type:Number,required:!1,default:void 0},setDataValue:{required:!0,type:Function}},components:{PropertyLabel:_e,ResizingTextField:Te},data:()=>({id:De()}),computed:{value:{get(){return this.dataValue?this.dataValue.value:""},set(e){this.setDataValue({type:"string",value:e})}}}}),(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wb-db-string-value"},[r("PropertyLabel",{attrs:{term:e.label,"html-for":e.id}}),r("ResizingTextField",{staticClass:"wb-db-string-value__input",attrs:{id:e.id,placeholder:e.placeholder,"max-length":e.maxlength,value:e.value},on:{input:function(t){e.value=t}}})],1)}),[],!1,null,null,null).exports,Me=c(o().extend({mixins:[he],name:"ReferenceSection",computed:{renderedTargetReferences(){return this.rootModule.state.renderedTargetReferences}}}),(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wb-db-references"},[r("h2",{staticClass:"wb-db-references__heading"},[e._v(" "+e._s(e.$messages.getText(e.$messages.KEYS.REFERENCES_HEADING))+" ")]),r("span",{staticClass:"wb-db-references__note"},[e._v(e._s(e.$messages.getText(e.$messages.KEYS.REFERENCE_NOTE)))]),r("ul",{staticClass:"wb-db-references__list"},e._l(e.renderedTargetReferences,(function(t,n){return r("li",{key:n,staticClass:"wb-db-references__listItem",domProps:{innerHTML:e._s(t)}})})),0)])}),[],!1,null,null,null).exports,Le=c(o().extend({mixins:[he],name:"DataBridge",components:{EditDecision:be,StringDataValue:Ce,ReferenceSection:Me},computed:{targetValue(){const e=this.rootModule.state.targetValue;if(null===e)throw new Error("not yet ready!");return e},targetLabel(){return this.rootModule.getters.targetLabel},valueMaxLength(){return this.rootModule.getters.config.stringMaxLength}},methods:{setDataValue(e){this.rootModule.dispatch("setTargetValue",e)}}}),(function(){var e=this.$createElement,t=this._self._c||e;return t("section",{staticClass:"wb-db-bridge"},[t("StringDataValue",{staticClass:"wb-db-bridge__target-value",attrs:{label:this.targetLabel,"data-value":this.targetValue,"set-data-value":this.setDataValue,maxlength:this.valueMaxLength}}),t("ReferenceSection",{staticClass:"wb-db-bridge__reference-section"}),t("EditDecision")],1)}),[],!1,null,null,null).exports,Ue=c(o().extend({name:"IndeterminateProgressBar"}),(function(){this.$createElement;return this._self._c,this._m(0)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"wb-ui-indeterminate-progress-bar__box"},[t("div",{staticClass:"wb-ui-indeterminate-progress-bar__bar",attrs:{"aria-busy":"true","aria-live":"polite"}})])}],!1,null,null,null).exports,$e=c(o().extend({name:"Loading",components:{IndeterminateProgressBar:Ue},props:{isInitializing:{type:Boolean,required:!0},isSaving:{type:Boolean,required:!0},TIME_UNTIL_CONSIDERED_SLOW:{type:Number,default:1e3},MINIMUM_TIME_OF_PROGRESS_ANIMATION:{type:Number,default:500}},watch:{isInitializing:{immediate:!0,handler(e,t){e?this.showLoading():this.tendTowardsReady()}},isSaving:{immediate:!0,handler(e,t){e?this.showLoading():this.tendTowardsReady()}}},data(){return{ready:!this.isInitializing,loadingIsSlow:!1,trackSlowness:null,trackAnimation:null,animatedEnough:!1}},methods:{showLoading(){this.ready=!this.isInitializing,this.trackSlowness=setTimeout((()=>{this.loadingIsSlow=!0,this.trackAnimation=setTimeout((()=>{this.animatedEnough=!0,this.tendTowardsReady()}),this.MINIMUM_TIME_OF_PROGRESS_ANIMATION)}),this.TIME_UNTIL_CONSIDERED_SLOW)},tendTowardsReady(){this.isInitializing||this.isSaving||this.loadingIsSlow&&!this.animatedEnough||(this.ready=!0,this.resetSlownessTracking())},resetSlownessTracking(){this.loadingIsSlow=!1,this.animatedEnough=!1,this.trackSlowness&&(clearTimeout(this.trackSlowness),this.trackSlowness=null),this.trackAnimation&&(clearTimeout(this.trackAnimation),this.trackAnimation=null)}}}),(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"wb-db-load"},[this.ready?this._t("default"):this._e(),this.loadingIsSlow?t("IndeterminateProgressBar",{staticClass:"wb-db-load__bar"}):this._e()],2)}),[],!1,null,null,null).exports,je=(r(2479),c(o().extend({name:"BailoutActions",components:{EventEmittingButton:l},props:{originalHref:{type:String,required:!0},pageTitle:{required:!0,type:String}},computed:{editArticleUrl(){return this.$clientRouter.getPageUrl(this.pageTitle,{action:"edit"})}}}),(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wb-db-bailout-actions"},[r("h2",{staticClass:"wb-db-bailout-actions__heading"},[e._v(" "+e._s(e.$messages.getText(e.$messages.KEYS.BAILOUT_HEADING))+" ")]),r("ul",[r("li",{staticClass:"wb-db-bailout-actions__suggestion"},[e._v(" "+e._s(e.$messages.getText(e.$messages.KEYS.BAILOUT_SUGGESTION_GO_TO_REPO))),r("br"),r("EventEmittingButton",{staticClass:"wb-db-bailout-actions__button",attrs:{type:"primaryProgressive",size:"M",message:e.$messages.getText(e.$messages.KEYS.BAILOUT_SUGGESTION_GO_TO_REPO_BUTTON),href:e.originalHref,"new-tab":!0,"prevent-default":!1}})],1),r("li",{staticClass:"wb-db-bailout-actions__suggestion",domProps:{innerHTML:e._s(e.$messages.get(e.$messages.KEYS.BAILOUT_SUGGESTION_EDIT_ARTICLE,e.editArticleUrl))}})])])}),[],!1,null,null,null).exports),Be=c(o().extend({mixins:[he],name:"ErrorUnsupportedSnakType",components:{IconMessageBox:g,BailoutActions:je},props:{snakType:{type:String,required:!0}},computed:{propertyLabel(){return new ve({propsData:{term:this.rootModule.getters.targetLabel,inLanguage:this.$inLanguage}}).$mount().$el},pageTitle(){return this.rootModule.state.pageTitle},originalHref(){return this.rootModule.state.originalHref},messageHeaderKey(){switch(this.snakType){case"somevalue":return this.$messages.KEYS.SOMEVALUE_ERROR_HEAD;case"novalue":return this.$messages.KEYS.NOVALUE_ERROR_HEAD;default:throw new Error("No message for unsupported snak type "+this.snakType)}},messageBodyKey(){switch(this.snakType){case"somevalue":return this.$messages.KEYS.SOMEVALUE_ERROR_BODY;case"novalue":return this.$messages.KEYS.NOVALUE_ERROR_BODY;default:throw new Error("No message for unsupported snak type "+this.snakType)}}}}),(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wb-db-unsupported-snaktype"},[r("IconMessageBox",{staticClass:"wb-db-unsupported-snaktype__message",attrs:{type:"notice",inline:!0}},[r("p",{staticClass:"wb-db-unsupported-snaktype__head",domProps:{innerHTML:e._s(e.$messages.get(e.messageHeaderKey,e.propertyLabel))}}),r("p",{staticClass:"wb-db-unsupported-snaktype__body",domProps:{innerHTML:e._s(e.$messages.get(e.messageBodyKey,e.propertyLabel))}})]),r("BailoutActions",{staticClass:"wb-db-unsupported-snaktype__bailout",attrs:{"original-href":e.originalHref,"page-title":e.pageTitle}})],1)}),[],!1,null,null,null).exports;!function(e){e.BLOCKED_ON_CLIENT_PAGE="blocked_on_client_page",e.BLOCKED_ON_REPO_ITEM="blocked_on_repo_item",e.PAGE_CASCADE_PROTECTED="cascadeprotected_on_client_page",e.ITEM_FULLY_PROTECTED="protectedpage",e.ITEM_SEMI_PROTECTED="semiprotectedpage",e.ITEM_CASCADE_PROTECTED="cascadeprotected",e.UNKNOWN="unknown"}(ke||(ke={}));var Ge=c(o().extend({name:"ErrorPermissionInfo",props:{expandedByDefault:{required:!1,default:!1,type:Boolean},messageHeader:{type:String,required:!0},messageBody:{type:String,required:!0}},data:()=>({infoIsExpanded:!1}),created(){this.infoIsExpanded=this.expandedByDefault},methods:{toggleInfo(){this.infoIsExpanded=!this.infoIsExpanded}}}),(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wb-db-error-permission-info"},[r("div",{staticClass:"wb-db-error-permission-info__header",domProps:{innerHTML:e._s(e.messageHeader)}}),r("a",{staticClass:"wb-db-error-permission-info__toggle",class:["wb-db-error-permission-info__toggle--"+(e.infoIsExpanded?"open":"closed")],on:{click:e.toggleInfo}},[e._v(" "+e._s(this.$messages.getText(this.$messages.KEYS.PERMISSIONS_MORE_INFO))+" ")]),e.infoIsExpanded?r("div",{staticClass:"wb-db-error-permission-info__body",domProps:{innerHTML:e._s(e.messageBody)}}):e._e()])}),[],!1,null,null,null).exports,Fe=c(o().extend({name:"PageList",props:{pages:{type:Array,required:!0},router:{type:Object,required:!0}}}),(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",e._l(e.pages,(function(t){return r("li",{key:t},[r("a",{attrs:{href:e.router.getPageUrl(t)}},[e._v(e._s(t))])])})),0)}),[],!1,null,null,null).exports,Ye=c(o().extend({name:"UserLink",props:{userId:{type:Number,required:!0},userName:{type:String,required:!0},router:{type:Object,required:!0}}}),(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",[0!==e.userId?r("a",{attrs:{href:e.router.getPageUrl("Special:Redirect/user/"+e.userId)}},[r("bdi",[e._v(e._s(e.userName))])]):r("bdi",[e._v(e._s(e.userName))])])}),[],!1,null,null,null).exports;const He={[ke.ITEM_FULLY_PROTECTED]:{header:"PERMISSIONS_PROTECTED_HEADING",body:"PERMISSIONS_PROTECTED_BODY"},[ke.ITEM_SEMI_PROTECTED]:{header:"PERMISSIONS_SEMI_PROTECTED_HEADING",body:"PERMISSIONS_SEMI_PROTECTED_BODY"},[ke.ITEM_CASCADE_PROTECTED]:{header:"PERMISSIONS_CASCADE_PROTECTED_HEADING",body:"PERMISSIONS_CASCADE_PROTECTED_BODY"},[ke.BLOCKED_ON_CLIENT_PAGE]:{header:"PERMISSIONS_BLOCKED_ON_CLIENT_HEADING",body:"PERMISSIONS_BLOCKED_ON_CLIENT_BODY"},[ke.BLOCKED_ON_REPO_ITEM]:{header:"PERMISSIONS_BLOCKED_ON_REPO_HEADING",body:"PERMISSIONS_BLOCKED_ON_REPO_BODY"},[ke.PAGE_CASCADE_PROTECTED]:{header:"PERMISSIONS_PAGE_CASCADE_PROTECTED_HEADING",body:"PERMISSIONS_PAGE_CASCADE_PROTECTED_BODY"},[ke.UNKNOWN]:{header:"PERMISSIONS_ERROR_UNKNOWN_HEADING",body:"PERMISSIONS_ERROR_UNKNOWN_BODY"}};var Ke=c(o().extend({mixins:[he],name:"ErrorPermission",components:{ErrorPermissionInfo:Ge},props:{permissionErrors:{type:Array,required:!0}},computed:{entityTitle(){return this.rootModule.state.entityTitle}},methods:{getMessageHeader(e){return this.$messages.get(this.$messages.KEYS[this.messageHeaderKey(e)],...this.messageHeaderParameters(e))},getMessageBody(e){return this.$messages.get(this.$messages.KEYS[this.messageBodyKey(e)],...this.messageBodyParameters(e))},buildTalkPageNamespace(){if(this.entityTitle.includes(":")){const e=this.entityTitle.split(":",2);return`${e[0]}_talk:${e[1]}`}return"Talk:"+this.entityTitle},messageHeaderKey:e=>He[e.type].header,messageBodyKey:e=>He[e.type].body,messageHeaderParameters(e){const t=[];switch(e.type){case ke.ITEM_FULLY_PROTECTED:t.push(this.$repoRouter.getPageUrl("Project:Page_protection_policy"),this.$repoRouter.getPageUrl("Project:Administrators"));break;case ke.ITEM_SEMI_PROTECTED:t.push(this.$repoRouter.getPageUrl("Project:Page_protection_policy"),this.$repoRouter.getPageUrl("Project:Autoconfirmed_users"));break;case ke.ITEM_CASCADE_PROTECTED:t.push("",this.$repoRouter.getPageUrl("Project:Administrators"))}return t},messageBodyParameters(e){const t=[];switch(e.type){case ke.BLOCKED_ON_CLIENT_PAGE:{const{blockedBy:r,blockedById:n,blockReason:o,blockId:i,blockExpiry:s,blockedTimestamp:a}=e.info,u=this.bdi(r),c=new Ye({propsData:{userId:n,userName:r,router:this.$clientRouter}}).$mount().$el;t.push(c,o,"",u,i.toString(),s,"",a);break}case ke.BLOCKED_ON_REPO_ITEM:{const{blockedBy:r,blockedById:n,blockReason:o,blockId:i,blockExpiry:s,blockedTimestamp:a}=e.info,u=this.bdi(r),c=new Ye({propsData:{userId:n,userName:r,router:this.$repoRouter}}).$mount().$el;t.push(c,o,"",u,i.toString(),s,"",a,this.$repoRouter.getPageUrl("Project:Administrators"));break}case ke.ITEM_FULLY_PROTECTED:t.push(this.$repoRouter.getPageUrl("Project:Page_protection_policy"),this.$repoRouter.getPageUrl("Project:Project:Edit_warring"),this.$repoRouter.getPageUrl("Special:Log/protect",{page:this.entityTitle}),this.$repoRouter.getPageUrl(this.buildTalkPageNamespace()));break;case ke.ITEM_SEMI_PROTECTED:t.push(this.$repoRouter.getPageUrl("Special:Log/protect",{page:this.entityTitle}),this.$repoRouter.getPageUrl(this.buildTalkPageNamespace()));break;case ke.ITEM_CASCADE_PROTECTED:t.push(e.info.pages.length.toString(),this.convertToHtmlList(e.info.pages,this.$repoRouter));break;case ke.PAGE_CASCADE_PROTECTED:t.push(e.info.pages.length.toString(),this.convertToHtmlList(e.info.pages,this.$clientRouter))}return t},bdi(e){const t=document.createElement("bdi");return t.textContent=e,t},convertToHtmlList(e,t){const r=new Fe({propsData:{pages:e,router:t}});return r.$mount(),r.$el}}}),(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"wb-db-error-permission"},[r("p",{staticClass:"wb-db-error-permission__heading"},[e._v(" "+e._s(e.$messages.getText(e.$messages.KEYS.PERMISSIONS_HEADING))+" ")]),e._l(e.permissionErrors,(function(t,n){return r("ErrorPermissionInfo",{key:n,staticClass:"wb-db-error-permission__info",attrs:{"message-header":e.getMessageHeader(t),"message-body":e.getMessageBody(t),"expanded-by-default":1===e.permissionErrors.length}})}))],2)}),[],!1,null,null,null).exports,We=c(o().extend({mixins:[he],name:"ReportIssue",computed:{message(){return this.$messages.get(this.$messages.KEYS.ERROR_REPORT,this.rootModule.getters.issueReportingLinkConfig.replace(/<body>/g,encodeURIComponent(this.rootModule.getters.reportIssueTemplateBody)),this.rootModule.state.pageUrl,this.rootModule.state.targetProperty,this.rootModule.state.entityTitle,this.rootModule.state.applicationErrors[0].type)}}}),(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"wb-db-report-issue",domProps:{innerHTML:this._s(this.message)}})}),[],!1,null,null,null).exports,Ve=c(o().extend({mixins:[he],name:"ErrorUnknown",components:{EventEmittingButton:l,IconMessageBox:g,ReportIssue:We},methods:{relaunch(){this.$emit("relaunch")}},mounted(){this.rootModule.dispatch("trackErrorsFallingBackToGenericView")}}),(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wb-db-error-unknown"},[r("h2",{staticClass:"wb-db-error-unknown__heading"},[e._v(" "+e._s(e.$messages.getText(e.$messages.KEYS.UNKNOWN_ERROR_HEADING))+" ")]),r("IconMessageBox",{staticClass:"wb-db-error-unknown__message",attrs:{type:"error"}},[e._v(" "+e._s(e.$messages.getText(e.$messages.KEYS.UNKNOWN_ERROR_MESSAGE))+" ")]),r("ReportIssue",{staticClass:"wb-db-error-unknown__report"}),r("EventEmittingButton",{staticClass:"wb-db-error-unknown__relaunch",attrs:{type:"primaryProgressive",size:"M",message:e.$messages.getText(e.$messages.KEYS.ERROR_RELOAD_BRIDGE)},on:{click:e.relaunch}})],1)}),[],!1,null,null,null).exports,qe=c(o().extend({mixins:[he],name:"ErrorUnsupportedDatatype",components:{IconMessageBox:g,BailoutActions:je},props:{dataType:{type:String,required:!0}},computed:{pageTitle(){return this.rootModule.state.pageTitle},originalHref(){return this.rootModule.state.originalHref},propertyLabel(){return new ve({propsData:{term:this.rootModule.getters.targetLabel,inLanguage:this.$inLanguage}}).$mount().$el}}}),(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wb-db-unsupported-datatype"},[r("IconMessageBox",{staticClass:"wb-db-unsupported-datatype__message",attrs:{type:"notice",inline:!0}},[r("p",{staticClass:"wb-db-unsupported-datatype__head",domProps:{innerHTML:e._s(e.$messages.get(e.$messages.KEYS.UNSUPPORTED_DATATYPE_ERROR_HEAD,e.propertyLabel))}}),r("p",{staticClass:"wb-db-unsupported-datatype__body",domProps:{innerHTML:e._s(e.$messages.get(e.$messages.KEYS.UNSUPPORTED_DATATYPE_ERROR_BODY,e.propertyLabel,e.dataType))}})]),r("BailoutActions",{staticClass:"wb-db-unsupported-datatype__bailout",attrs:{"original-href":e.originalHref,"page-title":e.pageTitle}})],1)}),[],!1,null,null,null).exports,ze=c(o().extend({mixins:[he],name:"ErrorDeprecatedStatement",components:{IconMessageBox:g,BailoutActions:je},computed:{propertyLabel(){return new ve({propsData:{term:this.rootModule.getters.targetLabel,inLanguage:this.$inLanguage}}).$mount().$el},pageTitle(){return this.rootModule.state.pageTitle},originalHref(){return this.rootModule.state.originalHref}}}),(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wb-db-deprecated-statement"},[r("IconMessageBox",{staticClass:"wb-db-deprecated-statement__message",attrs:{type:"notice",inline:!0}},[r("p",{staticClass:"wb-db-deprecated-statement__head",domProps:{innerHTML:e._s(e.$messages.get(e.$messages.KEYS.DEPRECATED_STATEMENT_ERROR_HEAD,e.propertyLabel))}}),r("p",{staticClass:"wb-db-deprecated-statement__body",domProps:{innerHTML:e._s(e.$messages.get(e.$messages.KEYS.DEPRECATED_STATEMENT_ERROR_BODY,e.propertyLabel))}})]),r("BailoutActions",{staticClass:"wb-db-deprecated-statement__bailout",attrs:{"original-href":e.originalHref,"page-title":e.pageTitle}})],1)}),[],!1,null,null,null).exports,Ze=c(o().extend({mixins:[he],name:"ErrorAmbiguousStatement",components:{IconMessageBox:g,BailoutActions:je},computed:{propertyLabel(){return new ve({propsData:{term:this.rootModule.getters.targetLabel,inLanguage:this.$inLanguage}}).$mount().$el},pageTitle(){return this.rootModule.state.pageTitle},originalHref(){return this.rootModule.state.originalHref}}}),(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wb-db-ambiguous-statement"},[r("IconMessageBox",{staticClass:"wb-db-ambiguous-statement__message",attrs:{type:"notice",inline:!0}},[r("p",{staticClass:"wb-db-ambiguous-statement__head"},[e._v(" "+e._s(e.$messages.getText(e.$messages.KEYS.AMBIGUOUS_STATEMENT_ERROR_HEAD))+" ")]),r("p",{staticClass:"wb-db-ambiguous-statement__body",domProps:{innerHTML:e._s(e.$messages.get(e.$messages.KEYS.AMBIGUOUS_STATEMENT_ERROR_BODY,e.propertyLabel))}})]),r("BailoutActions",{attrs:{"original-href":e.originalHref,"page-title":e.pageTitle}})],1)}),[],!1,null,null,null).exports,Je=c(o().extend({mixins:[he],name:"ErrorSaving",components:{EventEmittingButton:l,IconMessageBox:g,ReportIssue:We},mounted(){this.rootModule.dispatch("trackSavingErrorsFallingBackToGenericView")},methods:{retrySave(){this.rootModule.dispatch("retrySave")},goBack(){this.rootModule.dispatch("goBackFromErrorToReady")}}}),(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wb-db-error-saving"},[r("h2",{staticClass:"wb-db-error-saving__heading"},[e._v(" "+e._s(e.$messages.getText(e.$messages.KEYS.SAVING_ERROR_HEADING))+" ")]),r("IconMessageBox",{staticClass:"wb-db-error-saving__message",attrs:{type:"error"}},[e._v(" "+e._s(e.$messages.getText(e.$messages.KEYS.SAVING_ERROR_MESSAGE))+" ")]),r("ReportIssue",{staticClass:"wb-db-error-saving__report"}),r("div",{staticClass:"wb-db-error-saving__buttons"},[r("EventEmittingButton",{staticClass:"wb-db-error-saving__back",attrs:{type:"neutral",size:"M",message:e.$messages.getText(e.$messages.KEYS.ERROR_GO_BACK)},on:{click:e.goBack}}),r("EventEmittingButton",{staticClass:"wb-db-error-saving__retry",attrs:{type:"primaryProgressive",size:"M",message:e.$messages.getText(e.$messages.KEYS.ERROR_RETRY_SAVE)},on:{click:e.retrySave}})],1)],1)}),[],!1,null,null,null).exports,Xe=c(o().extend({mixins:[he],name:"ErrorSavingAssertUser",components:{EventEmittingButton:l,IconMessageBox:g},props:{loginUrl:{required:!0,type:String}},computed:{publishOrSave(){return this.rootModule.getters.config.usePublish?this.$messages.KEYS.SAVING_ERROR_ASSERTUSER_PUBLISH:this.$messages.KEYS.SAVING_ERROR_ASSERTUSER_SAVE}},methods:{proceed(){var e=this;return(0,v.Z)((function*(){yield e.rootModule.dispatch("stopAssertingUserWhenSaving"),yield e.rootModule.dispatch("retrySave")}))()},back(){this.rootModule.dispatch("goBackFromErrorToReady")}}}),(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wb-db-error-saving-assertuser"},[r("h2",{staticClass:"wb-db-error-saving-assertuser__heading"},[e._v(" "+e._s(e.$messages.getText(e.$messages.KEYS.SAVING_ERROR_ASSERTUSER_HEADING))+" ")]),r("IconMessageBox",{staticClass:"wb-db-error-saving-assertuser__message",attrs:{type:"warning"}},[e._v(" "+e._s(e.$messages.getText(e.$messages.KEYS.SAVING_ERROR_ASSERTUSER_MESSAGE))+" ")]),r("div",{staticClass:"wb-db-error-saving-assertuser__buttons"},[r("EventEmittingButton",{staticClass:"wb-db-error-saving-assertuser__proceed",attrs:{type:"primaryProgressive",size:"M",message:e.$messages.getText(e.publishOrSave)},on:{click:e.proceed}}),r("EventEmittingButton",{staticClass:"wb-db-error-saving-assertuser__login",attrs:{type:"neutral",size:"M",href:e.loginUrl,message:e.$messages.getText(e.$messages.KEYS.SAVING_ERROR_ASSERTUSER_LOGIN),"new-tab":!0,"prevent-default":!1},on:{click:e.back}}),r("EventEmittingButton",{staticClass:"wb-db-error-saving-assertuser__back",attrs:{type:"link",size:"M",message:e.$messages.getText(e.$messages.KEYS.SAVING_ERROR_ASSERTUSER_KEEP_EDITING)},on:{click:e.back}})],1)],1)}),[],!1,null,null,null).exports,Qe=c(o().extend({name:"ErrorSavingEditConflict",components:{EventEmittingButton:l,IconMessageBox:g},methods:{reload(){this.$emit("reload")}}}),(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wb-db-error-saving-edit-conflict"},[r("h2",{staticClass:"wb-db-error-saving-edit-conflict__heading"},[e._v(" "+e._s(e.$messages.getText(e.$messages.KEYS.EDIT_CONFLICT_ERROR_HEADING))+" ")]),r("IconMessageBox",{staticClass:"wb-db-error-saving-edit-conflict__message",attrs:{type:"error"}},[e._v(" "+e._s(e.$messages.getText(e.$messages.KEYS.EDIT_CONFLICT_ERROR_MESSAGE))+" ")]),r("EventEmittingButton",{staticClass:"wb-db-error-saving-edit-conflict__reload",attrs:{type:"primaryProgressive",size:"M",message:e.$messages.getText(e.$messages.KEYS.ERROR_RELOAD_PAGE)},on:{click:e.reload}})],1)}),[],!1,null,null,null).exports;function et(e){return Object.values(ke).includes(e.type)}var tt,rt=c(o().extend({mixins:[he],name:"ErrorWrapper",components:{ErrorUnsupportedSnakType:Be,ErrorPermission:Ke,ErrorUnknown:Ve,ErrorUnsupportedDatatype:qe,ErrorDeprecatedStatement:ze,ErrorAmbiguousStatement:Ze,ErrorSaving:Je,ErrorSavingAssertUser:Xe,ErrorSavingEditConflict:Qe},computed:{applicationErrors(){return this.rootModule.state.applicationErrors},permissionErrors(){return this.applicationErrors.filter(et)},unsupportedDatatypeError(){for(const e of this.applicationErrors)if(e.type===O.UNSUPPORTED_DATATYPE)return e;return null},statementValueIsDeprecated(){return this.applicationErrors.some((e=>e.type===O.UNSUPPORTED_DEPRECATED_STATEMENT))},statementIsAmbiguous(){return this.applicationErrors.some((e=>e.type===O.UNSUPPORTED_AMBIGUOUS_STATEMENT))},unsupportedSnakTypeError(){for(const e of this.applicationErrors)if(e.type===O.UNSUPPORTED_SNAK_TYPE)return e;return null},isGenericSavingError(){return this.rootModule.getters.isGenericSavingError},isAssertUserFailedError(){return this.rootModule.getters.isAssertUserFailedError},isEditConflictError(){return this.rootModule.getters.isEditConflictError},loginUrl(){return this.$clientRouter.getPageUrl("Special:UserLogin",{warning:this.$messages.KEYS.LOGIN_WARNING})}},methods:{relaunch(){this.$emit("relaunch")},reload(){this.$emit("reload")}}}),(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"wb-db-error"},[e.permissionErrors.length?r("ErrorPermission",{attrs:{"permission-errors":e.permissionErrors}}):null!==e.unsupportedDatatypeError?r("ErrorUnsupportedDatatype",{attrs:{"data-type":e.unsupportedDatatypeError.info.unsupportedDatatype}}):e.statementValueIsDeprecated?r("ErrorDeprecatedStatement"):e.statementIsAmbiguous?r("ErrorAmbiguousStatement"):null!==e.unsupportedSnakTypeError?r("ErrorUnsupportedSnakType",{attrs:{"snak-type":e.unsupportedSnakTypeError.info.snakType}}):e.isGenericSavingError?r("ErrorSaving"):e.isAssertUserFailedError?r("ErrorSavingAssertUser",{attrs:{"login-url":e.loginUrl}}):e.isEditConflictError?r("ErrorSavingEditConflict",{on:{reload:e.reload}}):r("ErrorUnknown",{on:{relaunch:e.relaunch}})],1)}),[],!1,null,null,null).exports,nt=c(o().extend({name:"License",mixins:[he],components:{EventEmittingButton:l},computed:{publishOrSave(){return this.rootModule.getters.config.usePublish?this.$messages.KEYS.PUBLISH_CHANGES:this.$messages.KEYS.SAVE_CHANGES},getBodyMessage(){var e,t,r;const n=this.rootModule.getters.config;return this.$messages.get(this.$messages.KEYS.LICENSE_BODY,this.publishOrSave,null!==(e=n.termsOfUseUrl)&&void 0!==e?e:"",null!==(t=n.dataRightsUrl)&&void 0!==t?t:"",null!==(r=n.dataRightsText)&&void 0!==r?r:"")}},methods:{handleCloseButtonClick(e){this.$emit("close",e)}}}),(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wb-db-license"},[r("span",{staticClass:"wb-db-license__button"},[r("EventEmittingButton",{attrs:{message:e.$messages.getText(e.$messages.KEYS.CANCEL),size:"M",type:"close"},on:{click:e.handleCloseButtonClick}})],1),r("div",{staticClass:"wb-db-license__text"},[r("h2",{staticClass:"wb-db-license__heading"},[e._v(" "+e._s(e.$messages.getText(e.$messages.KEYS.LICENSE_HEADING))+" ")]),r("div",{staticClass:"wb-db-license__body",domProps:{innerHTML:e._s(e.getBodyMessage)}})])])}),[],!1,null,null,null).exports,ot=c(o().extend({name:"ThankYou",components:{EventEmittingButton:l},props:{repoLink:{type:String,required:!0}},methods:{click(){this.$emit("opened-reference-edit-on-repo")}}}),(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wb-db-thankyou"},[r("h2",{staticClass:"wb-db-thankyou__head"},[e._v(" "+e._s(e.$messages.getText(e.$messages.KEYS.THANK_YOU_HEAD))+" ")]),r("p",{staticClass:"wb-db-thankyou__body"},[e._v(" "+e._s(e.$messages.getText(e.$messages.KEYS.THANK_YOU_EDIT_REFERENCE_ON_REPO_BODY))+" ")]),r("div",{staticClass:"wb-db-thankyou__button"},[r("EventEmittingButton",{attrs:{type:"primaryProgressive",size:"M",message:e.$messages.getText(e.$messages.KEYS.THANK_YOU_EDIT_REFERENCE_ON_REPO_BUTTON),href:e.repoLink,"new-tab":!0,"prevent-default":!1},on:{click:e.click}})],1)])}),[],!1,null,null,null).exports,it=c(o().extend({name:"ProcessDialogHeader"}),(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"wb-ui-processdialog-header"},[this._t("safeAction",[t("div")]),t("h1",{staticClass:"wb-ui-processdialog-header__title"},[this._t("title",[t("span")])],2),this._t("primaryAction",[t("div")])],2)}),[],!1,null,null,null).exports,st=c(o().extend({mixins:[he],name:"AppHeader",components:{EventEmittingButton:l,ProcessDialogHeader:it},computed:{title(){return this.$messages.get(this.$messages.KEYS.BRIDGE_DIALOG_TITLE,new ve({propsData:{term:this.rootModule.getters.targetLabel,inLanguage:this.$inLanguage}}).$mount().$el)},canGoBack(){return this.rootModule.getters.canGoToPreviousState},isSaved(){return this.rootModule.getters.applicationStatus===T.SAVED},hasError(){return this.rootModule.getters.applicationStatus===T.ERROR},hasWarning(){return this.rootModule.state.showWarningAnonymousEdit},publishOrSave(){return this.rootModule.getters.config.usePublish?this.$messages.KEYS.PUBLISH_CHANGES:this.$messages.KEYS.SAVE_CHANGES},canStartSaving(){return this.rootModule.getters.canStartSaving},isSaving(){return this.rootModule.getters.applicationStatus===T.SAVING}},methods:{close(){this.$emit("close")},save(){this.$emit("save")},back(){this.$emit("back")}}}),(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ProcessDialogHeader",{staticClass:"wb-db-app__header",scopedSlots:e._u([{key:"title",fn:function(){return[r("span",{domProps:{innerHTML:e._s(e.title)}})]},proxy:!0},{key:"primaryAction",fn:function(){return[e.hasWarning||e.hasError||e.isSaved?e._e():r("EventEmittingButton",{attrs:{message:e.$messages.getText(e.publishOrSave),type:"primaryProgressive",size:"L",squary:!0,disabled:!e.canStartSaving},on:{click:e.save}})]},proxy:!0},{key:"safeAction",fn:function(){return[r("span",{class:{"app-header__close-button--desktop-only":e.canGoBack}},[r("EventEmittingButton",{attrs:{message:e.$messages.getText(e.$messages.KEYS.CANCEL),type:"close",size:"L",squary:!0,disabled:e.isSaving},on:{click:e.close}})],1),e.canGoBack?r("span",{staticClass:"app-header__back-button"},[r("EventEmittingButton",{attrs:{message:e.$messages.getText(e.$messages.KEYS.ERROR_GO_BACK),type:"back",size:"L",squary:!0},on:{click:e.back}})],1):e._e()]},proxy:!0}])})}),[],!1,null,null,null).exports,at=c(o().extend({mixins:[he],name:"App",components:{WarningAnonymousEdit:y,AppHeader:st,License:nt,DataBridge:Le,ErrorWrapper:rt,Loading:$e,ThankYou:ot},data:()=>({licenseIsVisible:!1}),props:{emitter:{required:!0,type:Object}},computed:{isOverlayed(){return this.isSaving||this.licenseIsVisible},isSaving(){return this.rootModule.getters.applicationStatus===T.SAVING},isInitializing(){return this.rootModule.getters.applicationStatus===T.INITIALIZING},isSaved(){return this.rootModule.getters.applicationStatus===T.SAVED},hasError(){return this.rootModule.getters.applicationStatus===T.ERROR},hasErrorRequiringReload(){return this.hasError&&this.rootModule.getters.isEditConflictError},repoLink(){return this.rootModule.state.originalHref},showWarningAnonymousEdit(){return this.rootModule.state.showWarningAnonymousEdit},loginUrl(){return this.$clientRouter.getPageUrl("Special:UserLogin",{returnto:this.rootModule.state.pageTitle})}},methods:{close(){this.isSaved?this.emitter.emit(b.saved):this.hasErrorRequiringReload?this.reload():this.emitter.emit(b.cancel)},back(){this.rootModule.dispatch("goBackFromErrorToReady")},dismissLicense(){this.licenseIsVisible=!1},save(){this.licenseIsVisible?(this.licenseIsVisible=!1,this.rootModule.dispatch("saveBridge")):this.licenseIsVisible=!0},openedReferenceEditOnRepo(){this.emitter.emit(b.saved)},relaunch(){this.emitter.emit(b.relaunch)},reload(){this.emitter.emit(b.reload)},dismissWarningAnonymousEdit(){this.rootModule.dispatch("dismissWarningAnonymousEdit")}}}),(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wb-db-app",attrs:{id:"data-bridge-app"}},[r("AppHeader",{on:{save:e.save,close:e.close,back:e.back}}),r("div",{staticClass:"wb-db-app__body"},[e.showWarningAnonymousEdit?r("WarningAnonymousEdit",{attrs:{"login-url":e.loginUrl},on:{proceed:e.dismissWarningAnonymousEdit}}):e.hasError?r("ErrorWrapper",{on:{relaunch:e.relaunch,reload:e.reload}}):e.isSaved?r("ThankYou",{attrs:{"repo-link":e.repoLink},on:{"opened-reference-edit-on-repo":e.openedReferenceEditOnRepo}}):r("Loading",{attrs:{"is-initializing":e.isInitializing,"is-saving":e.isSaving}},[e.licenseIsVisible?r("div",{staticClass:"wb-db-app__license"},[r("License",{on:{close:e.dismissLicense}})],1):e._e(),r("DataBridge",{class:["wb-db-app__data-bridge",{"wb-db-app__data-bridge--overlayed":e.isOverlayed}]})],1)],1)],1)}),[],!1,null,null,null).exports,ut=r(7187);function ct(e,t){e.prototype.$inLanguage=e=>{if(!e)return{};const r=t.resolve(e);return{lang:r.code,dir:r.directionality}}}!function(e){e.BRIDGE_DIALOG_TITLE="wikibase-client-data-bridge-dialog-title",e.SAVE_CHANGES="savechanges",e.PUBLISH_CHANGES="publishchanges",e.CANCEL="cancel",e.EDIT_DECISION_HEADING="wikibase-client-data-bridge-edit-decision-heading",e.EDIT_DECISION_REPLACE_LABEL="wikibase-client-data-bridge-edit-decision-replace-label",e.EDIT_DECISION_REPLACE_DESCRIPTION="wikibase-client-data-bridge-edit-decision-replace-description",e.EDIT_DECISION_UPDATE_LABEL="wikibase-client-data-bridge-edit-decision-update-label",e.EDIT_DECISION_UPDATE_DESCRIPTION="wikibase-client-data-bridge-edit-decision-update-description",e.REFERENCES_HEADING="wikibase-client-data-bridge-references-heading",e.ANONYMOUS_EDIT_WARNING_HEADING="wikibase-client-data-bridge-anonymous-edit-warning-heading",e.ANONYMOUS_EDIT_WARNING_MESSAGE="wikibase-client-data-bridge-anonymous-edit-warning-message",e.ANONYMOUS_EDIT_WARNING_PROCEED="wikibase-client-data-bridge-anonymous-edit-warning-proceed",e.ANONYMOUS_EDIT_WARNING_LOGIN="wikibase-client-data-bridge-anonymous-edit-warning-login",e.PERMISSIONS_HEADING="wikibase-client-data-bridge-permissions-error",e.PERMISSIONS_MORE_INFO="wikibase-client-data-bridge-permissions-error-info",e.PERMISSIONS_BLOCKED_ON_CLIENT_HEADING="wikibase-client-data-bridge-blocked-on-client-head",e.PERMISSIONS_BLOCKED_ON_CLIENT_BODY="wikibase-client-data-bridge-blocked-on-client-body",e.PERMISSIONS_BLOCKED_ON_REPO_HEADING="wikibase-client-data-bridge-blocked-on-repo-head",e.PERMISSIONS_BLOCKED_ON_REPO_BODY="wikibase-client-data-bridge-blocked-on-repo-body",e.PERMISSIONS_PAGE_CASCADE_PROTECTED_HEADING="wikibase-client-data-bridge-cascadeprotected-on-client-head",e.PERMISSIONS_PAGE_CASCADE_PROTECTED_BODY="wikibase-client-data-bridge-cascadeprotected-on-client-body",e.PERMISSIONS_PROTECTED_HEADING="wikibase-client-data-bridge-protected-on-repo-head",e.PERMISSIONS_PROTECTED_BODY="wikibase-client-data-bridge-protected-on-repo-body",e.PERMISSIONS_SEMI_PROTECTED_HEADING="wikibase-client-data-bridge-semiprotected-on-repo-head",e.PERMISSIONS_SEMI_PROTECTED_BODY="wikibase-client-data-bridge-semiprotected-on-repo-body",e.PERMISSIONS_CASCADE_PROTECTED_HEADING="wikibase-client-data-bridge-cascadeprotected-on-repo-head",e.PERMISSIONS_CASCADE_PROTECTED_BODY="wikibase-client-data-bridge-cascadeprotected-on-repo-body",e.PERMISSIONS_ERROR_UNKNOWN_HEADING="wikibase-client-data-bridge-permissions-error-unknown-head",e.PERMISSIONS_ERROR_UNKNOWN_BODY="wikibase-client-data-bridge-permissions-error-unknown-body",e.BAILOUT_HEADING="wikibase-client-data-bridge-bailout-heading",e.BAILOUT_SUGGESTION_GO_TO_REPO="wikibase-client-data-bridge-bailout-suggestion-go-to-repo",e.BAILOUT_SUGGESTION_GO_TO_REPO_BUTTON="wikibase-client-data-bridge-bailout-suggestion-go-to-repo-button",e.BAILOUT_SUGGESTION_EDIT_ARTICLE="wikibase-client-data-bridge-bailout-suggestion-edit-article",e.UNSUPPORTED_DATATYPE_ERROR_HEAD="wikibase-client-data-bridge-unsupported-datatype-error-head",e.UNSUPPORTED_DATATYPE_ERROR_BODY="wikibase-client-data-bridge-unsupported-datatype-error-body",e.DEPRECATED_STATEMENT_ERROR_HEAD="wikibase-client-data-bridge-deprecated-statement-error-head",e.DEPRECATED_STATEMENT_ERROR_BODY="wikibase-client-data-bridge-deprecated-statement-error-body",e.AMBIGUOUS_STATEMENT_ERROR_HEAD="wikibase-client-data-bridge-ambiguous-statement-error-head",e.AMBIGUOUS_STATEMENT_ERROR_BODY="wikibase-client-data-bridge-ambiguous-statement-error-body",e.SOMEVALUE_ERROR_HEAD="wikibase-client-data-bridge-somevalue-error-head",e.SOMEVALUE_ERROR_BODY="wikibase-client-data-bridge-somevalue-error-body",e.SAVING_ERROR_HEADING="wikibase-client-data-bridge-saving-error-heading",e.SAVING_ERROR_MESSAGE="wikibase-client-data-bridge-saving-error-message",e.EDIT_CONFLICT_ERROR_HEADING="wikibase-client-data-bridge-edit-conflict-error-heading",e.EDIT_CONFLICT_ERROR_MESSAGE="wikibase-client-data-bridge-edit-conflict-error-message",e.UNKNOWN_ERROR_HEADING="wikibase-client-data-bridge-unknown-error-heading",e.UNKNOWN_ERROR_MESSAGE="wikibase-client-data-bridge-unknown-error-message",e.ERROR_REPORT="wikibase-client-data-bridge-error-report",e.ERROR_RELOAD_BRIDGE="wikibase-client-data-bridge-error-reload-bridge",e.ERROR_RELOAD_PAGE="wikibase-client-data-bridge-error-reload-page",e.ERROR_GO_BACK="wikibase-client-data-bridge-error-go-back",e.ERROR_RETRY_SAVE="wikibase-client-data-bridge-error-retry-save",e.NOVALUE_ERROR_HEAD="wikibase-client-data-bridge-novalue-error-head",e.NOVALUE_ERROR_BODY="wikibase-client-data-bridge-novalue-error-body",e.LICENSE_HEADING="wikibase-client-data-bridge-license-heading",e.LICENSE_BODY="wikibase-client-data-bridge-license-body",e.LOGIN_WARNING="wikibase-client-data-bridge-login-warning",e.REFERENCE_NOTE="wikibase-client-data-bridge-reference-note",e.THANK_YOU_HEAD="wikibase-client-data-bridge-thank-you-head",e.THANK_YOU_EDIT_REFERENCE_ON_REPO_BODY="wikibase-client-data-bridge-thank-you-edit-reference-on-repo-body",e.THANK_YOU_EDIT_REFERENCE_ON_REPO_BUTTON="wikibase-client-data-bridge-thank-you-edit-reference-on-repo-button",e.SAVING_ERROR_ASSERTUSER_HEADING="wikibase-client-data-bridge-saving-error-assertuser-heading",e.SAVING_ERROR_ASSERTUSER_MESSAGE="wikibase-client-data-bridge-saving-error-assertuser-message",e.SAVING_ERROR_ASSERTUSER_SAVE="wikibase-client-data-bridge-saving-error-assertuser-save",e.SAVING_ERROR_ASSERTUSER_PUBLISH="wikibase-client-data-bridge-saving-error-assertuser-publish",e.SAVING_ERROR_ASSERTUSER_LOGIN="wikibase-client-data-bridge-saving-error-assertuser-login",e.SAVING_ERROR_ASSERTUSER_KEEP_EDITING="wikibase-client-data-bridge-saving-error-assertuser-editing"}(tt||(tt={}));var lt,pt=tt;class dt{constructor(e){this.KEYS=pt,this.messagesRepository=e}get(e,...t){return this.messagesRepository.get(e,...t)}getText(e,...t){return this.messagesRepository.getText(e,...t)}}function ft(e,t){e.prototype.$messages=new dt(t)}function gt(e,t){e.prototype.$repoRouter=t}function yt(e,t){e.prototype.$clientRouter=t}class ht extends Error{}class mt extends Error{constructor(e){super("request error"),this.error=e}}class Et{constructor(e){this.api=e}postWithEditTokenAndAssertUser(e){return Promise.resolve(this.api.postWithEditToken(this.api.assertCurrentUser(this.mapParameters(e))).catch(this.mwApiRejectionToError))}postWithEditToken(e){return Promise.resolve(this.api.postWithEditToken(this.mapParameters(e)).catch(this.mwApiRejectionToError))}get(e){return Promise.resolve(this.api.get(this.mapParameters(e)).catch(this.mwApiRejectionToError))}mapParameters(e){const t={};for(const r of Object.keys(e)){const n=e[r];n instanceof Set?t[r]=[...n]:t[r]=n}return t}mwApiRejectionToError(e,t,r,n){switch(e){case"http":throw new mt(t.xhr);case"ok-but-empty":throw new ht(t);default:{const e=t;throw e.error?new _([e.error]):e.errors?new _(e.errors):new ht("mw.Api rejected but result does not contain error(s)")}}}}class bt extends Error{}function vt(e,t){if("object"!=typeof e.entities)throw new ht("Result not well formed.");const r=e.entities[t];if(!r)throw new bt("Result does not contain relevant entity.");if("missing"in r)throw new bt("Entity flagged missing in response.");return r}function _t(e){throw e instanceof _&&1===e.errors.length&&"no-such-entity"===e.errors[0].code?new bt("Entity flagged missing in response."):e}class St{constructor(e){this.api=e}getEntity(e){var t=this;return(0,v.Z)((function*(){const r=vt(yield t.api.get({action:"wbgetentities",ids:new Set([e]),props:new Set(["info","claims"])}).catch(_t),e);return new Z(new z(e,r.claims),r.lastrevid)}))()}}class Ot{constructor(e,t){this.api=e,this.tags=t||void 0}saveEntity(e,t,r=!0){const n={action:"wbeditentity",id:e.id,baserevid:null==t?void 0:t.revisionId,data:JSON.stringify({claims:e.statements}),tags:this.tags};let o;return o=r?this.api.postWithEditTokenAndAssertUser(n):this.api.postWithEditToken(n),o.then((e=>new Z(new z(e.entity.id,e.entity.claims),e.entity.lastrevid)),(e=>{if(!(e instanceof _))throw e;throw new S(e.errors.map((e=>{switch(e.code){case"assertanonfailed":return{type:O.ASSERT_ANON_FAILED,info:e};case"assertuserfailed":return{type:O.ASSERT_USER_FAILED,info:e};case"assertnameduserfailed":return{type:O.ASSERT_NAMED_USER_FAILED,info:e};case"editconflict":return{type:O.EDIT_CONFLICT,info:e};case"nosuchrevid":return{type:O.NO_SUCH_REVID,info:e};case"badtags":return{type:O.BAD_TAGS,info:e};default:return{type:O.SAVING_FAILED,info:e}}})))}))}}class Tt{constructor(e){this.api=e,this.requests=[]}get(e){for(const o of this.requests){const t=this.mergeParams(o.params,e);if(!1!==t)return o.params=t,o.promise}let t,r;const n=new Promise(((e,n)=>{t=e,r=n}));return this.requests.push({params:e,promise:n,resolve:t,reject:r}),1===this.requests.length&&Promise.resolve().then((()=>this.flush())),n}flush(){for(const{params:e,resolve:t,reject:r}of this.requests)this.api.get(e).then(t,r);this.requests.length=0}mergeParams(e,t){const r=new Set([...Object.getOwnPropertyNames(e),...Object.getOwnPropertyNames(t)]),n={};for(const o of r){const r=void 0!==e[o],i=void 0!==t[o];if(!r||!i){n[o]=(r?e:t)[o];continue}const s=e[o],a=t[o];if(s instanceof Set&&a instanceof Set){const e=new Set;n[o]=e;for(const t of[s,a])for(const r of t)e.add(String(r));continue}if(s instanceof Array||a instanceof Array)return!1;if("boolean"==typeof s&&"boolean"==typeof a){if(s===a){n[o]=s;continue}return!1}const u=String(s);if(u!==String(a))return!1;n[o]=u}return n}}class Rt{constructor(e){this.getUrl=e}getPageUrl(e,t){return this.getUrl(e,t)}}class wt{constructor(e){this.apiWritingRepository=e}saveEntity(e,t,r=!0){var n=this;return(0,v.Z)((function*(){return t&&(e=n.trimEntity(e,t.entity)),n.apiWritingRepository.saveEntity(e,t,r)}))()}trimEntity(e,t){if(e.id!==t.id)throw new ht("Entity ID mismatch");const r=this.trimStatementMap(e.statements,t.statements);return new z(e.id,r)}trimStatementMap(e,t){const r={},n=new Set([...Object.keys(e),...Object.keys(t)]);for(const o of n)if(o in t){const n=t[o];if(!(o in e))throw new ht("Cannot remove statement group");{const t=e[o],i=this.trimStatementGroup(t,n);null!==i&&(r[o]=i)}}else r[o]=e[o];return r}trimStatementGroup(e,t){const r=function(e){const t={};for(const r of e)r.id&&(t[r.id]=r);return t}(t),n=[];for(const o of e){if(!o.id){n.push(o);continue}const e=r[o.id];if(delete r[o.id],e){const t=this.trimStatement(o,e);null!==t&&n.push(t)}else n.push(o)}if(Object.keys(r).length)throw new ht("Cannot remove statement");return n.length?n:null}trimStatement(e,t){return ue()(e,t)?null:e}}class At{constructor(){this.services={}}set(e,t){this.services[e]=t}get(e){if(void 0===this.services[e])throw new Error(e+" is undefined");return this.services[e]}}class It{constructor(e,t){this.directionalityResolver=t.getDir,this.bcp47Resolver=e.bcp47}resolve(e){return{code:this.bcp47Resolver(e),directionality:this.directionalityResolver(e)}}}class Pt{constructor(e,t,r){this.repoConfig=e,this.wikiUrlencode=t,this.querySerializer=r}getPageUrl(e,t){let r,n;return t&&(n=this.querySerializer(t)),r=n?this.wikiScript()+"?title="+this.wikiUrlencode(e)+"&"+n:this.repoConfig.url+this.repoConfig.articlePath.replace("$1",this.wikiUrlencode(e).replace(/\$/g,"$$$$")),r}wikiScript(e="index.php"){return this.repoConfig.url+this.repoConfig.scriptPath+"/"+e}}class Nt{constructor(e){this.mwMessages=e}get(e,...t){return this.mwMessages(e,...t).parse()}getText(e,...t){return this.mwMessages(e,...t).text()}}class kt{constructor(e){this.api=e}getRepoConfiguration(){var e=this;return(0,v.Z)((function*(){const t=yield e.api.get({action:"query",meta:new Set(["wbdatabridgeconfig"]),errorformat:"raw",formatversion:2});if(e.responseWarnsAboutDisabledRepoConfiguration(t))throw new ht("Result indicates repo API is disabled (see dataBridgeEnabled).");if(!e.isWellFormedResponse(t.query))throw new ht("Result not well formed.");return t.query.wbdatabridgeconfig}))()}responseWarnsAboutDisabledRepoConfiguration(e){return Array.isArray(e.warnings)&&e.warnings.some((e=>"unrecognizedvalues"===e.code&&"query"===e.module))}isWellFormedResponse(e){var t,r;const n=e;return"object"==typeof n.wbdatabridgeconfig&&"string"==typeof n.wbdatabridgeconfig.dataRightsUrl&&"string"==typeof n.wbdatabridgeconfig.dataRightsText&&"string"==typeof n.wbdatabridgeconfig.termsOfUseUrl&&"number"==typeof(null===(t=n.wbdatabridgeconfig.dataTypeLimits)||void 0===t||null===(r=t.string)||void 0===r?void 0:r.maxLength)}}function xt(e){return(e||"error-type-undefined").toLowerCase().replace(/[^a-z0-9_]+/g,"_").replace(/^[^a-z0-9]|[^a-z0-9]$/g,"")}class Dt{constructor(e){this.tracker=e}trackPropertyDatatype(e){this.tracker.increment("datatype."+e)}trackError(e){this.tracker.increment("error.all."+xt(e))}trackRecoveredError(e){this.tracker.increment("error.recovered."+xt(e))}trackUnknownError(e){this.tracker.increment("error.unknown."+xt(e))}trackSavingUnknownError(e){this.tracker.increment("error.onsave.unknown."+xt(e))}}class Ct{constructor(e){this.api=e}getDataType(e){var t=this;return(0,v.Z)((function*(){return vt(yield t.api.get({action:"wbgetentities",props:new Set(["datatype"]),ids:new Set([e]),errorformat:"raw",formatversion:2}).catch(_t),e).datatype}))()}}class Mt extends Error{}class Lt{constructor(e,t){this.forLanguageCode=e,this.api=t}getLabel(e){var t=this;return(0,v.Z)((function*(){const r=vt(yield t.api.get({action:"wbgetentities",props:new Set(["labels"]),ids:new Set([e]),languages:new Set([t.forLanguageCode]),languagefallback:!0,errorformat:"raw",formatversion:2}).catch(_t),e);if(!(t.forLanguageCode in r.labels))throw new Mt(`Could not find label for language '${t.forLanguageCode}'.`);const n=r.labels[t.forLanguageCode];return{value:n.value,language:n.language}}))()}}!function(e){e[e.PROTECTED_PAGE=1]="PROTECTED_PAGE",e[e.CASCADE_PROTECTED_PAGE=2]="CASCADE_PROTECTED_PAGE",e[e.BLOCKED=3]="BLOCKED",e[e.UNKNOWN=-1]="UNKNOWN"}(lt||(lt={}));class Ut{constructor(e,t){this.repoRepository=e,this.clientRepository=t}canUseBridgeForItemAndPage(e,t){var r=this;return(0,v.Z)((function*(){const[n,o]=yield Promise.all([r.repoRepository.getPermissionErrors(e),r.clientRepository.getPermissionErrors(t)]),i=[];return i.push(...n.map(r.repoErrorToMissingPermissionsError,r)),i.push(...o.map(r.clientErrorToMissingPermissionsError,r)),i}))()}repoErrorToMissingPermissionsError(e){switch(e.type){case lt.PROTECTED_PAGE:return{type:e.semiProtected?ke.ITEM_SEMI_PROTECTED:ke.ITEM_FULLY_PROTECTED,info:{right:e.right}};case lt.CASCADE_PROTECTED_PAGE:return{type:ke.ITEM_CASCADE_PROTECTED,info:{pages:e.pages}};case lt.BLOCKED:return{type:ke.BLOCKED_ON_REPO_ITEM,info:this.mapBlockInfoFromPermissionErrorTypeToPageNotEditable(e.blockinfo)};case lt.UNKNOWN:return this.unknownPermissionErrorToMissingPermissionsError(e)}}clientErrorToMissingPermissionsError(e){switch(e.type){case lt.PROTECTED_PAGE:throw new ht("Data Bridge should never have been opened on this protected page!");case lt.CASCADE_PROTECTED_PAGE:return{type:ke.PAGE_CASCADE_PROTECTED,info:{pages:e.pages}};case lt.BLOCKED:return{type:ke.BLOCKED_ON_CLIENT_PAGE,info:this.mapBlockInfoFromPermissionErrorTypeToPageNotEditable(e.blockinfo)};case lt.UNKNOWN:return this.unknownPermissionErrorToMissingPermissionsError(e)}}mapBlockInfoFromPermissionErrorTypeToPageNotEditable(e){return{blockId:e.blockid,blockedBy:e.blockedby,blockedTimestamp:e.blockedtimestamp,blockExpiry:e.blockexpiry,blockPartial:e.blockpartial,blockReason:e.blockreason,blockedById:e.blockedbyid}}unknownPermissionErrorToMissingPermissionsError(e){return{type:ke.UNKNOWN,info:{code:e.code,messageKey:e.messageKey,messageParams:e.messageParams}}}}class $t extends Error{constructor(e){super(`The title '${e}' is invalid.`),this.title=e}}class jt{constructor(e){this.api=e}getPermissionErrors(e){var t=this;return(0,v.Z)((function*(){const r=(yield t.api.get({action:"query",titles:new Set([e]),prop:new Set(["info"]),meta:new Set(["siteinfo"]),intestactions:new Set(["edit"]),intestactionsdetail:"full",siprop:new Set(["restrictions"]),errorformat:"raw",formatversion:2})).query,n=function(e,t){for(const r of e.normalized||[])if(r.from===t){t=r.to;break}for(const r of e.pages||[])if(r.title===t)return r;return null}(r,e);if(null===n)throw new ht(`API did not return information for page '${e}'.`);if(n.invalid)throw new $t(e);!function(e){if(!("actions"in e))throw new ht("API info did not return test actions.")}(n),function(e){if(!("restrictions"in e))throw new ht("API siteinfo did not return restrictions.")}(r);const o=r.restrictions.semiprotectedlevels.map(t.rewriteCompatibilityRight);return n.actions.edit.map((e=>t.apiErrorToPermissionError(e,o)))}))()}apiErrorToPermissionError(e,t){switch(function(e){if(!("key"in e)||!("params"in e))throw new ht("API returned wrong error format.")}(e),e.code){case"protectedpage":{const r=e.params[0];return{type:lt.PROTECTED_PAGE,right:r,semiProtected:t.includes(r)}}case"cascadeprotected":{const t=this.parseWikitextPagesList(e.params[1]);if(t.length!==e.params[0])throw new ht(`API reported ${e.params[0]} cascade-protected pages but we parsed ${t.length}.`);return{type:lt.CASCADE_PROTECTED_PAGE,pages:t}}case"blocked":return{type:lt.BLOCKED,blockinfo:e.data.blockinfo};default:return{type:lt.UNKNOWN,code:e.code,messageKey:e.key,messageParams:e.params}}}rewriteCompatibilityRight(e){switch(e){case"sysop":return"editprotected";case"autoconfirmed":return"editsemiprotected";default:return e}}parseWikitextPagesList(e){const t=e.split("\n"),r=t.pop();if(""!==r)throw new ht("Wikitext did not end in blank line: "+r);return t.map((e=>{if(!e.startsWith("*"))throw new ht("Line does not look like a list item: "+e);let t=e.slice(1);if(t.startsWith(" ")&&(t=t.slice(1)),!t.startsWith("[[")||!t.endsWith("]]"))throw new ht("List item does not look like a wikilink: "+t);let r=t.slice(2,-2);return r.startsWith(":")&&(r=r.slice(1)),r}))}}class Bt{constructor(e){this.TITLES_LIMIT=50,this.api=e}purge(e){if(e.length>this.TITLES_LIMIT)throw new ht(`You cannot purge more than ${this.TITLES_LIMIT} titles`);return Promise.resolve(this.api.post({action:"purge",titles:e,forcelinkupdate:!0,errorformat:"raw",formatversion:2}))}}class Gt{constructor(e,t){this.api=e,this.language=t}getRenderedReferences(e){return Promise.all(e.map((e=>this.renderSingleReference(e))))}renderSingleReference(e){var t=this;return(0,v.Z)((function*(){const r=yield t.api.get({action:"wbformatreference",reference:JSON.stringify(e),style:"internal-data-bridge",outputformat:"html",errorformat:"raw",formatversion:2,uselang:t.language});if(!t.isWellFormedFormatReferenceResponse(r))throw new ht("Reference formatting server response not well formed.");return r.wbformatreference.html}))()}isWellFormedFormatReferenceResponse(e){var t;return"string"==typeof(null==e||null===(t=e.wbformatreference)||void 0===t?void 0:t.html)}}function Ft(e,t,r){const n=new At,o=e.mw.config.get("wbRepo"),i=new Pt(o,e.mw.util.wikiUrlencode,e.$.param),s=new e.mw.Api;if(void 0===e.mw.ForeignApi)throw new Error("mw.ForeignApi was not loaded!");const a=new e.mw.ForeignApi(`${o.url}${o.scriptPath}/api.php`),u=new Et(a),c=new Tt(u);n.set("readingEntityRepository",new St(c)),n.set("writingEntityRepository",new wt(new Ot(u,0===t.length?void 0:t)));const l=e.mw.config.get("wgPageContentLanguage");if(n.set("entityLabelRepository",new Lt(l,c)),n.set("propertyDatatypeRepository",new Ct(c)),void 0===e.$.uls)throw new Error("$.uls was not loaded!");n.set("languageInfoRepository",new It(e.mw.language,e.$.uls.data)),n.set("messagesRepository",new Nt(e.mw.message)),n.set("wikibaseRepoConfigRepository",new kt(c)),n.set("tracker",new Dt(r));const p=new Et(s);n.set("editAuthorizationChecker",new Ut(new jt(c),new jt(p))),n.set("referencesRenderingRepository",new Gt(p,l)),n.set("repoRouter",i),n.set("clientRouter",new Rt(e.mw.util.getUrl));const d=new Bt(s);return n.set("purgeTitles",d),n}function Yt(e,t,r){const n=ge(r);n.dispatch("initBridge",t);const i=new ut.EventEmitter,s={store:n,render:e=>e(at,{props:{emitter:i}})},a=o().createMwApp(s);return function(e,t,r,n,o){e.use(ct,t),e.use(ft,r),e.use(gt,n),e.use(yt,o)}(a,r.get("languageInfoRepository"),r.get("messagesRepository"),r.get("repoRouter"),r.get("clientRouter")),a.mount(e.containerSelector),i.on(f.relaunch,(()=>{n.dispatch("relaunchBridge",t)})),i}o().config.productionTip=!1},1924:(e,t,r)=>{"use strict";var n=r(210),o=r(5559),i=o(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&i(e,".prototype.")>-1?o(r):r}},5559:(e,t,r)=>{"use strict";var n=r(8612),o=r(210),i=o("%Function.prototype.apply%"),s=o("%Function.prototype.call%"),a=o("%Reflect.apply%",!0)||n.call(s,i),u=o("%Object.getOwnPropertyDescriptor%",!0),c=o("%Object.defineProperty%",!0),l=o("%Math.max%");if(c)try{c({},"a",{value:1})}catch(e){c=null}e.exports=function(e){var t=a(n,s,arguments);if(u&&c){var r=u(t,"length");r.configurable&&c(t,"length",{value:1+l(0,e.length-(arguments.length-1))})}return t};var p=function(){return a(n,i,arguments)};c?c(e.exports,"apply",{value:p}):e.exports.apply=p},1223:(e,t,r)=>{var n=r(5112),o=r(30),i=r(3070),s=n("unscopables"),a=Array.prototype;null==a[s]&&i.f(a,s,{configurable:!0,value:o(null)}),e.exports=function(e){a[s][e]=!0}},1530:(e,t,r)=>{"use strict";var n=r(8710).charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},8544:(e,t,r)=>{var n=r(7293);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},4994:(e,t,r)=>{"use strict";var n=r(3383).IteratorPrototype,o=r(30),i=r(9114),s=r(8003),a=r(7497),u=function(){return this};e.exports=function(e,t,r,c){var l=t+" Iterator";return e.prototype=o(n,{next:i(+!c,r)}),s(e,l,!1,!0),a[l]=u,e}},654:(e,t,r)=>{"use strict";var n=r(2109),o=r(6916),i=r(1913),s=r(6530),a=r(614),u=r(4994),c=r(9518),l=r(7674),p=r(8003),d=r(8880),f=r(1320),g=r(5112),y=r(7497),h=r(3383),m=s.PROPER,E=s.CONFIGURABLE,b=h.IteratorPrototype,v=h.BUGGY_SAFARI_ITERATORS,_=g("iterator"),S=function(){return this};e.exports=function(e,t,r,s,g,h,O){u(r,t,s);var T,R,w,A=function(e){if(e===g&&x)return x;if(!v&&e in N)return N[e];switch(e){case"keys":case"values":case"entries":return function(){return new r(this,e)}}return function(){return new r(this)}},I=t+" Iterator",P=!1,N=e.prototype,k=N[_]||N["@@iterator"]||g&&N[g],x=!v&&k||A(g),D="Array"==t&&N.entries||k;if(D&&(T=c(D.call(new e)))!==Object.prototype&&T.next&&(i||c(T)===b||(l?l(T,b):a(T[_])||f(T,_,S)),p(T,I,!0,!0),i&&(y[I]=S)),m&&"values"==g&&k&&"values"!==k.name&&(!i&&E?d(N,"name","values"):(P=!0,x=function(){return o(k,this)})),g)if(R={values:A("values"),keys:h?x:A("keys"),entries:A("entries")},O)for(w in R)(v||P||!(w in N))&&f(N,w,R[w]);else n({target:t,proto:!0,forced:v||P},R);return i&&!O||N[_]===x||f(N,_,x,{name:g}),y[t]=x,R}},8324:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:(e,t,r)=>{var n=r(317)("span").classList,o=n&&n.constructor&&n.constructor.prototype;e.exports=o===Object.prototype?void 0:o},7007:(e,t,r)=>{"use strict";r(4916);var n=r(1702),o=r(1320),i=r(2261),s=r(7293),a=r(5112),u=r(8880),c=a("species"),l=RegExp.prototype;e.exports=function(e,t,r,p){var d=a(e),f=!s((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),g=f&&!s((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[c]=function(){return r},r.flags="",r[d]=/./[d]),r.exec=function(){return t=!0,null},r[d](""),!t}));if(!f||!g||r){var y=n(/./[d]),h=t(d,""[e],(function(e,t,r,o,s){var a=n(e),u=t.exec;return u===i||u===l.exec?f&&!s?{done:!0,value:y(t,r,o)}:{done:!0,value:a(r,t,o)}:{done:!1}}));o(String.prototype,e,h[0]),o(l,d,h[1])}p&&u(l[d],"sham",!0)}},647:(e,t,r)=>{var n=r(1702),o=r(7908),i=Math.floor,s=n("".charAt),a=n("".replace),u=n("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,n,p,d){var f=r+e.length,g=n.length,y=l;return void 0!==p&&(p=o(p),y=c),a(d,y,(function(o,a){var c;switch(s(a,0)){case"$":return"$";case"&":return e;case"`":return u(t,0,r);case"'":return u(t,f);case"<":c=p[u(a,1,-1)];break;default:var l=+a;if(0===l)return o;if(l>g){var d=i(l/10);return 0===d?o:d<=g?void 0===n[d-1]?s(a,1):n[d-1]+s(a,1):o}c=n[l-1]}return void 0===c?"":c}))}},3383:(e,t,r)=>{"use strict";var n,o,i,s=r(7293),a=r(614),u=r(30),c=r(9518),l=r(1320),p=r(5112),d=r(1913),f=p("iterator"),g=!1;[].keys&&("next"in(i=[].keys())?(o=c(c(i)))!==Object.prototype&&(n=o):g=!0),null==n||s((function(){var e={};return n[f].call(e)!==e}))?n={}:d&&(n=u(n)),a(n[f])||l(n,f,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:g}},8006:(e,t,r)=>{var n=r(6324),o=r(748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},9518:(e,t,r)=>{var n=r(7854),o=r(2597),i=r(614),s=r(7908),a=r(6200),u=r(8544),c=a("IE_PROTO"),l=n.Object,p=l.prototype;e.exports=u?l.getPrototypeOf:function(e){var t=s(e);if(o(t,c))return t[c];var r=t.constructor;return i(r)&&t instanceof r?r.prototype:t instanceof l?p:null}},7651:(e,t,r)=>{var n=r(7854),o=r(6916),i=r(9670),s=r(614),a=r(4326),u=r(2261),c=n.TypeError;e.exports=function(e,t){var r=e.exec;if(s(r)){var n=o(r,e,t);return null!==n&&i(n),n}if("RegExp"===a(e))return o(u,e,t);throw c("RegExp#exec called on incompatible receiver")}},8710:(e,t,r)=>{var n=r(1702),o=r(9303),i=r(1340),s=r(4488),a=n("".charAt),u=n("".charCodeAt),c=n("".slice),l=function(e){return function(t,r){var n,l,p=i(s(t)),d=o(r),f=p.length;return d<0||d>=f?e?"":void 0:(n=u(p,d))<55296||n>56319||d+1===f||(l=u(p,d+1))<56320||l>57343?e?a(p,d):n:e?c(p,d,d+2):l-56320+(n-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},6992:(e,t,r)=>{"use strict";var n=r(5656),o=r(1223),i=r(7497),s=r(9909),a=r(3070).f,u=r(654),c=r(1913),l=r(9781),p=s.set,d=s.getterFor("Array Iterator");e.exports=u(Array,"Array",(function(e,t){p(this,{type:"Array Iterator",target:n(e),index:0,kind:t})}),(function(){var e=d(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values");var f=i.Arguments=i.Array;if(o("keys"),o("values"),o("entries"),!c&&l&&"values"!==f.name)try{a(f,"name",{value:"values"})}catch(e){}},8862:(e,t,r)=>{var n=r(2109),o=r(7854),i=r(5005),s=r(2104),a=r(1702),u=r(7293),c=o.Array,l=i("JSON","stringify"),p=a(/./.exec),d=a("".charAt),f=a("".charCodeAt),g=a("".replace),y=a(1..toString),h=/[\uD800-\uDFFF]/g,m=/^[\uD800-\uDBFF]$/,E=/^[\uDC00-\uDFFF]$/,b=function(e,t,r){var n=d(r,t-1),o=d(r,t+1);return p(m,e)&&!p(E,o)||p(E,e)&&!p(m,n)?"\\u"+y(f(e,0),16):e},v=u((function(){return'"\\udf06\\ud834"'!==l("\udf06\ud834")||'"\\udead"'!==l("\udead")}));l&&n({target:"JSON",stat:!0,forced:v},{stringify:function(e,t,r){for(var n=0,o=arguments.length,i=c(o);n<o;n++)i[n]=arguments[n];var a=s(l,null,i);return"string"==typeof a?g(a,h,b):a}})},9720:(e,t,r)=>{var n=r(2109),o=r(4699).entries;n({target:"Object",stat:!0},{entries:function(e){return o(e)}})},4916:(e,t,r)=>{"use strict";var n=r(2109),o=r(2261);n({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},5306:(e,t,r)=>{"use strict";var n=r(2104),o=r(6916),i=r(1702),s=r(7007),a=r(7293),u=r(9670),c=r(614),l=r(9303),p=r(7466),d=r(1340),f=r(4488),g=r(1530),y=r(8173),h=r(647),m=r(7651),E=r(5112)("replace"),b=Math.max,v=Math.min,_=i([].concat),S=i([].push),O=i("".indexOf),T=i("".slice),R="$0"==="a".replace(/./,"$0"),w=!!/./[E]&&""===/./[E]("a","$0");s("replace",(function(e,t,r){var i=w?"$":"$0";return[function(e,r){var n=f(this),i=null==e?void 0:y(e,E);return i?o(i,e,n,r):o(t,d(n),e,r)},function(e,o){var s=u(this),a=d(e);if("string"==typeof o&&-1===O(o,i)&&-1===O(o,"$<")){var f=r(t,s,a,o);if(f.done)return f.value}var y=c(o);y||(o=d(o));var E=s.global;if(E){var R=s.unicode;s.lastIndex=0}for(var w=[];;){var A=m(s,a);if(null===A)break;if(S(w,A),!E)break;""===d(A[0])&&(s.lastIndex=g(a,p(s.lastIndex),R))}for(var I,P="",N=0,k=0;k<w.length;k++){for(var x=d((A=w[k])[0]),D=b(v(l(A.index),a.length),0),C=[],M=1;M<A.length;M++)S(C,void 0===(I=A[M])?I:String(I));var L=A.groups;if(y){var U=_([x],C,D,a);void 0!==L&&S(U,L);var $=d(n(o,void 0,U))}else $=h(x,a,D,C,L,o);D>=N&&(P+=T(a,N,D)+$,N=D+x.length)}return P+T(a,N)}]}),!!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!R||w)},3948:(e,t,r)=>{var n=r(7854),o=r(8324),i=r(8509),s=r(6992),a=r(8880),u=r(5112),c=u("iterator"),l=u("toStringTag"),p=s.values,d=function(e,t){if(e){if(e[c]!==p)try{a(e,c,p)}catch(t){e[c]=p}if(e[l]||a(e,l,t),o[t])for(var r in s)if(e[r]!==s[r])try{a(e,r,s[r])}catch(t){e[r]=s[r]}}};for(var f in o)d(n[f]&&n[f].prototype,f);d(i,"DOMTokenList")},251:(e,t,r)=>{"use strict";var n=r(2215),o=r(2584),i=r(609),s=r(8420),a=r(2847),u=r(5826),c=r(8923),l=r(3679),p=r(210),d=r(1924),f=r(3483),g=r(3216),y=r(7478),h=r(6430),m=r(3533),E=d("Date.prototype.getTime"),b=Object.getPrototypeOf,v=d("Object.prototype.toString"),_=p("%Set%",!0),S=d("Map.prototype.has",!0),O=d("Map.prototype.get",!0),T=d("Map.prototype.size",!0),R=d("Set.prototype.add",!0),w=d("Set.prototype.delete",!0),A=d("Set.prototype.has",!0),I=d("Set.prototype.size",!0);function P(e,t,r,n){for(var o,i=g(e);(o=i.next())&&!o.done;)if(C(t,o.value,r,n))return w(e,o.value),!0;return!1}function N(e){return void 0===e?null:"object"!=typeof e?"symbol"!=typeof e&&("string"!=typeof e&&"number"!=typeof e||+e==+e):void 0}function k(e,t,r,n,o,i){var s=N(r);if(null!=s)return s;var a=O(t,s),u=m({},o,{strict:!1});return!(void 0===a&&!S(t,s)||!C(n,a,u,i))&&!S(e,s)&&C(n,a,u,i)}function x(e,t,r){var n=N(r);return null!=n?n:A(t,n)&&!A(e,n)}function D(e,t,r,n,o,i){for(var s,a,u=g(e);(s=u.next())&&!s.done;)if(C(r,a=s.value,o,i)&&C(n,O(t,a),o,i))return w(e,a),!0;return!1}function C(e,t,r,p){var d=r||{};if(d.strict?i(e,t):e===t)return!0;if(l(e)!==l(t))return!1;if(!e||!t||"object"!=typeof e&&"object"!=typeof t)return d.strict?i(e,t):e==t;var y,w=p.has(e),N=p.has(t);if(w&&N){if(p.get(e)===p.get(t))return!0}else y={};return w||p.set(e,y),N||p.set(t,y),function(e,t,r,i){var l,p;if(typeof e!=typeof t)return!1;if(null==e||null==t)return!1;if(v(e)!==v(t))return!1;if(o(e)!==o(t))return!1;var d=u(e),y=u(t);if(d!==y)return!1;var w=e instanceof Error,N=t instanceof Error;if(w!==N)return!1;if((w||N)&&(e.name!==t.name||e.message!==t.message))return!1;var L=s(e),U=s(t);if(L!==U)return!1;if((L||U)&&(e.source!==t.source||a(e)!==a(t)))return!1;var $=c(e),j=c(t);if($!==j)return!1;if(($||j)&&E(e)!==E(t))return!1;if(r.strict&&b&&b(e)!==b(t))return!1;if(h(e)!==h(t))return!1;var B=M(e),G=M(t);if(B!==G)return!1;if(B||G){if(e.length!==t.length)return!1;for(l=0;l<e.length;l++)if(e[l]!==t[l])return!1;return!0}if(typeof e!=typeof t)return!1;var F=n(e),Y=n(t);if(F.length!==Y.length)return!1;for(F.sort(),Y.sort(),l=F.length-1;l>=0;l--)if(F[l]!=Y[l])return!1;for(l=F.length-1;l>=0;l--)if(p=F[l],!C(e[p],t[p],r,i))return!1;var H=f(e),K=f(t);return H===K&&("Set"===H||"Set"===K?function(e,t,r,n){if(I(e)!==I(t))return!1;for(var o,i,s,a=g(e),u=g(t);(o=a.next())&&!o.done;)if(o.value&&"object"==typeof o.value)s||(s=new _),R(s,o.value);else if(!A(t,o.value)){if(r.strict)return!1;if(!x(e,t,o.value))return!1;s||(s=new _),R(s,o.value)}if(s){for(;(i=u.next())&&!i.done;)if(i.value&&"object"==typeof i.value){if(!P(s,i.value,r.strict,n))return!1}else if(!r.strict&&!A(e,i.value)&&!P(s,i.value,r.strict,n))return!1;return 0===I(s)}return!0}(e,t,r,i):"Map"!==H||function(e,t,r,n){if(T(e)!==T(t))return!1;for(var o,i,s,a,u,c,l=g(e),p=g(t);(o=l.next())&&!o.done;)if(a=o.value[0],u=o.value[1],a&&"object"==typeof a)s||(s=new _),R(s,a);else if(void 0===(c=O(t,a))&&!S(t,a)||!C(u,c,r,n)){if(r.strict)return!1;if(!k(e,t,a,u,r,n))return!1;s||(s=new _),R(s,a)}if(s){for(;(i=p.next())&&!i.done;)if(a=i.value[0],c=i.value[1],a&&"object"==typeof a){if(!D(s,e,a,c,r,n))return!1}else if(!(r.strict||e.has(a)&&C(O(e,a),c,r,n)||D(s,e,a,c,m({},r,{strict:!1}),n)))return!1;return 0===I(s)}return!0}(e,t,r,i))}(e,t,d,p)}function M(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&"function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0])&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}e.exports=function(e,t,r){return C(e,t,r,y())}},4289:(e,t,r)=>{"use strict";var n=r(2215),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,s=Array.prototype.concat,a=Object.defineProperty,u=a&&function(){var e={};try{for(var t in a(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(e){return!1}}(),c=function(e,t,r,n){var o;(!(t in e)||"function"==typeof(o=n)&&"[object Function]"===i.call(o)&&n())&&(u?a(e,t,{configurable:!0,enumerable:!1,value:r,writable:!0}):e[t]=r)},l=function(e,t){var r=arguments.length>2?arguments[2]:{},i=n(t);o&&(i=s.call(i,Object.getOwnPropertySymbols(t)));for(var a=0;a<i.length;a+=1)c(e,i[a],t[i[a]],r[i[a]])};l.supportsDescriptors=!!u,e.exports=l},7187:e=>{"use strict";var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise((function(r,n){function o(r){e.removeListener(t,i),n(r)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),r([].slice.call(arguments))}y(e,t,i,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&y(e,"error",t,r)}(e,o,{once:!0})}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function c(e,t,r,n){var o,i,s,c;if(a(r),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),s=i[t]),void 0===s)s=i[t]=r,++e._eventsCount;else if("function"==typeof s?s=i[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(o=u(e))>0&&s.length>o&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,c=l,console&&console.warn&&console.warn(c)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},o=l.bind(n);return o.listener=r,n.wrapFn=o,o}function d(e,t,r){var n=e._events;if(void 0===n)return[];var o=n[t];return void 0===o?[]:"function"==typeof o?r?[o.listener||o]:[o]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(o):g(o,o.length)}function f(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function g(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function y(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){n.once&&e.removeEventListener(t,o),r(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return u(this)},i.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var o="error"===e,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)n(u,this,t);else{var c=u.length,l=g(u,c);for(r=0;r<c;++r)n(l[r],this,t)}return!0},i.prototype.addListener=function(e,t){return c(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return c(this,e,t,!0)},i.prototype.once=function(e,t){return a(t),this.on(e,p(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,p(this,e,t)),this},i.prototype.removeListener=function(e,t){var r,n,o,i,s;if(a(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(o=-1,i=r.length-1;i>=0;i--)if(r[i]===t||r[i].listener===t){s=r[i].listener,o=i;break}if(o<0)return this;0===o?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,o),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var o,i=Object.keys(r);for(n=0;n<i.length;++n)"removeListener"!==(o=i[n])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},i.prototype.listeners=function(e){return d(this,e,!0)},i.prototype.rawListeners=function(e){return d(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},i.prototype.listenerCount=f,i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},9804:e=>{var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString;e.exports=function(e,n,o){if("[object Function]"!==r.call(n))throw new TypeError("iterator must be a function");var i=e.length;if(i===+i)for(var s=0;s<i;s++)n.call(o,e[s],s,e);else for(var a in e)t.call(e,a)&&n.call(o,e[a],a,e)}},7648:e=>{"use strict";var t="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,n=Object.prototype.toString;e.exports=function(e){var o=this;if("function"!=typeof o||"[object Function]"!==n.call(o))throw new TypeError(t+o);for(var i,s=r.call(arguments,1),a=function(){if(this instanceof i){var t=o.apply(this,s.concat(r.call(arguments)));return Object(t)===t?t:this}return o.apply(e,s.concat(r.call(arguments)))},u=Math.max(0,o.length-s.length),c=[],l=0;l<u;l++)c.push("$"+l);if(i=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(a),o.prototype){var p=function(){};p.prototype=o.prototype,i.prototype=new p,p.prototype=null}return i}},8612:(e,t,r)=>{"use strict";var n=r(7648);e.exports=Function.prototype.bind||n},210:(e,t,r)=>{"use strict";var n=SyntaxError,o=Function,i=TypeError,s=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(e){}},a=Object.getOwnPropertyDescriptor;if(a)try{a({},"")}catch(e){a=null}var u=function(){throw new i},c=a?function(){try{return u}catch(e){try{return a(arguments,"callee").get}catch(e){return u}}}():u,l=r(1405)(),p=Object.getPrototypeOf||function(e){return e.__proto__},d={},f="undefined"==typeof Uint8Array?void 0:p(Uint8Array),g={"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":l?p([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":d,"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":d,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":d,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":l?p(p([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&l?p((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&l?p((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":l?p(""[Symbol.iterator]()):void 0,"%Symbol%":l?Symbol:void 0,"%SyntaxError%":n,"%ThrowTypeError%":c,"%TypedArray%":f,"%TypeError%":i,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet},y={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},h=r(8612),m=r(7642),E=h.call(Function.call,Array.prototype.concat),b=h.call(Function.apply,Array.prototype.splice),v=h.call(Function.call,String.prototype.replace),_=h.call(Function.call,String.prototype.slice),S=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,O=/\\(\\)?/g,T=function(e){var t=_(e,0,1),r=_(e,-1);if("%"===t&&"%"!==r)throw new n("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new n("invalid intrinsic syntax, expected opening `%`");var o=[];return v(e,S,(function(e,t,r,n){o[o.length]=r?v(n,O,"$1"):t||e})),o},R=function(e,t){var r,o=e;if(m(y,o)&&(o="%"+(r=y[o])[0]+"%"),m(g,o)){var a=g[o];if(a===d&&(a=function e(t){var r;if("%AsyncFunction%"===t)r=s("async function () {}");else if("%GeneratorFunction%"===t)r=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=s("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&(r=p(o.prototype))}return g[t]=r,r}(o)),void 0===a&&!t)throw new i("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:o,value:a}}throw new n("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new i('"allowMissing" argument must be a boolean');var r=T(e),o=r.length>0?r[0]:"",s=R("%"+o+"%",t),u=s.name,c=s.value,l=!1,p=s.alias;p&&(o=p[0],b(r,E([0,1],p)));for(var d=1,f=!0;d<r.length;d+=1){var y=r[d],h=_(y,0,1),v=_(y,-1);if(('"'===h||"'"===h||"`"===h||'"'===v||"'"===v||"`"===v)&&h!==v)throw new n("property names with quotes must have matching quotes");if("constructor"!==y&&f||(l=!0),m(g,u="%"+(o+="."+y)+"%"))c=g[u];else if(null!=c){if(!(y in c)){if(!t)throw new i("base intrinsic for "+e+" exists, but the property is not available.");return}if(a&&d+1>=r.length){var S=a(c,y);c=(f=!!S)&&"get"in S&&!("originalValue"in S.get)?S.get:c[y]}else f=m(c,y),c=c[y];f&&!l&&(g[u]=c)}}return c}},932:(e,t,r)=>{"use strict";var n=r.g.BigInt;e.exports=function(){return"function"==typeof n&&"function"==typeof BigInt&&"bigint"==typeof n(42)&&"bigint"==typeof BigInt(42)}},1405:(e,t,r)=>{"use strict";var n="undefined"!=typeof Symbol&&Symbol,o=r(5419);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&o()}},5419:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},6410:(e,t,r)=>{"use strict";var n=r(5419);e.exports=function(){return n()&&!!Symbol.toStringTag}},7642:(e,t,r)=>{"use strict";var n=r(8612);e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},2584:(e,t,r)=>{"use strict";var n=r(6410)(),o=r(1924)("Object.prototype.toString"),i=function(e){return!(n&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===o(e)},s=function(e){return!!i(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==o(e)&&"[object Function]"===o(e.callee)},a=function(){return i(arguments)}();i.isLegacyArguments=s,e.exports=a?i:s},3376:(e,t,r)=>{"use strict";if(r(932)()){var n=BigInt.prototype.valueOf;e.exports=function(e){return null!=e&&"boolean"!=typeof e&&"string"!=typeof e&&"number"!=typeof e&&"symbol"!=typeof e&&"function"!=typeof e&&("bigint"==typeof e||function(e){try{return n.call(e),!0}catch(e){}return!1}(e))}}else e.exports=function(e){return!1}},6814:(e,t,r)=>{"use strict";var n=r(1924),o=n("Boolean.prototype.toString"),i=n("Object.prototype.toString"),s=r(6410)();e.exports=function(e){return"boolean"==typeof e||null!==e&&"object"==typeof e&&(s&&Symbol.toStringTag in e?function(e){try{return o(e),!0}catch(e){return!1}}(e):"[object Boolean]"===i(e))}},8923:(e,t,r)=>{"use strict";var n=Date.prototype.getDay,o=Object.prototype.toString,i=r(6410)();e.exports=function(e){return"object"==typeof e&&null!==e&&(i?function(e){try{return n.call(e),!0}catch(e){return!1}}(e):"[object Date]"===o.call(e))}},8379:e=>{"use strict";var t,r="function"==typeof Map&&Map.prototype?Map:null,n="function"==typeof Set&&Set.prototype?Set:null;r||(t=function(e){return!1});var o=r?Map.prototype.has:null,i=n?Set.prototype.has:null;t||o||(t=function(e){return!1}),e.exports=t||function(e){if(!e||"object"!=typeof e)return!1;try{if(o.call(e),i)try{i.call(e)}catch(e){return!0}return e instanceof r}catch(e){}return!1}},4578:(e,t,r)=>{"use strict";var n=Number.prototype.toString,o=Object.prototype.toString,i=r(6410)();e.exports=function(e){return"number"==typeof e||"object"==typeof e&&(i?function(e){try{return n.call(e),!0}catch(e){return!1}}(e):"[object Number]"===o.call(e))}},8420:(e,t,r)=>{"use strict";var n,o,i,s,a=r(1924),u=r(6410)();if(u){n=a("Object.prototype.hasOwnProperty"),o=a("RegExp.prototype.exec"),i={};var c=function(){throw i};s={toString:c,valueOf:c},"symbol"==typeof Symbol.toPrimitive&&(s[Symbol.toPrimitive]=c)}var l=a("Object.prototype.toString"),p=Object.getOwnPropertyDescriptor;e.exports=u?function(e){if(!e||"object"!=typeof e)return!1;var t=p(e,"lastIndex");if(!t||!n(t,"value"))return!1;try{o(e,s)}catch(e){return e===i}}:function(e){return!(!e||"object"!=typeof e&&"function"!=typeof e)&&"[object RegExp]"===l(e)}},9572:e=>{"use strict";var t,r="function"==typeof Map&&Map.prototype?Map:null,n="function"==typeof Set&&Set.prototype?Set:null;n||(t=function(e){return!1});var o=r?Map.prototype.has:null,i=n?Set.prototype.has:null;t||i||(t=function(e){return!1}),e.exports=t||function(e){if(!e||"object"!=typeof e)return!1;try{if(i.call(e),o)try{o.call(e)}catch(e){return!0}return e instanceof n}catch(e){}return!1}},9981:(e,t,r)=>{"use strict";var n=String.prototype.valueOf,o=Object.prototype.toString,i=r(6410)();e.exports=function(e){return"string"==typeof e||"object"==typeof e&&(i?function(e){try{return n.call(e),!0}catch(e){return!1}}(e):"[object String]"===o.call(e))}},2636:(e,t,r)=>{"use strict";var n=Object.prototype.toString;if(r(1405)()){var o=Symbol.prototype.toString,i=/^Symbol\(.*\)$/;e.exports=function(e){if("symbol"==typeof e)return!0;if("[object Symbol]"!==n.call(e))return!1;try{return function(e){return"symbol"==typeof e.valueOf()&&i.test(o.call(e))}(e)}catch(e){return!1}}}else e.exports=function(e){return!1}},5692:(e,t,r)=>{"use strict";var n=r(9804),o=r(3083),i=r(1924),s=i("Object.prototype.toString"),a=r(6410)(),u="undefined"==typeof globalThis?r.g:globalThis,c=o(),l=i("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},p=i("String.prototype.slice"),d={},f=r(882),g=Object.getPrototypeOf;a&&f&&g&&n(c,(function(e){var t=new u[e];if(Symbol.toStringTag in t){var r=g(t),n=f(r,Symbol.toStringTag);if(!n){var o=g(r);n=f(o,Symbol.toStringTag)}d[e]=n.get}})),e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!a||!(Symbol.toStringTag in e)){var t=p(s(e),8,-1);return l(c,t)>-1}return!!f&&function(e){var t=!1;return n(d,(function(r,n){if(!t)try{t=r.call(e)===n}catch(e){}})),t}(e)}},1718:e=>{"use strict";var t,r="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,n="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;r||(t=function(e){return!1});var o=r?r.prototype.has:null,i=n?n.prototype.has:null;t||o||(t=function(e){return!1}),e.exports=t||function(e){if(!e||"object"!=typeof e)return!1;try{if(o.call(e,o),i)try{i.call(e,i)}catch(e){return!0}return e instanceof r}catch(e){}return!1}},5899:(e,t,r)=>{"use strict";var n=r(210),o=r(1924),i=n("%WeakSet%",!0),s=o("WeakSet.prototype.has",!0);if(s){var a=o("WeakMap.prototype.has",!0);e.exports=function(e){if(!e||"object"!=typeof e)return!1;try{if(s(e,s),a)try{a(e,a)}catch(e){return!0}return e instanceof i}catch(e){}return!1}}else e.exports=function(e){return!1}},5826:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},2705:(e,t,r)=>{var n=r(5639).Symbol;e.exports=n},4239:(e,t,r)=>{var n=r(2705),o=r(9607),i=r(2333),s=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?o(e):i(e)}},7561:(e,t,r)=>{var n=r(7990),o=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(o,""):e}},1957:(e,t,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},9607:(e,t,r)=>{var n=r(2705),o=Object.prototype,i=o.hasOwnProperty,s=o.toString,a=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,a),r=e[a];try{e[a]=void 0;var n=!0}catch(e){}var o=s.call(e);return n&&(t?e[a]=r:delete e[a]),o}},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5639:(e,t,r)=>{var n=r(1957),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();e.exports=i},7990:e=>{var t=/\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},3279:(e,t,r)=>{var n=r(3218),o=r(7771),i=r(4841),s=Math.max,a=Math.min;e.exports=function(e,t,r){var u,c,l,p,d,f,g=0,y=!1,h=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function E(t){var r=u,n=c;return u=c=void 0,g=t,p=e.apply(n,r)}function b(e){return g=e,d=setTimeout(_,t),y?E(e):p}function v(e){var r=e-f;return void 0===f||r>=t||r<0||h&&e-g>=l}function _(){var e=o();if(v(e))return S(e);d=setTimeout(_,function(e){var r=t-(e-f);return h?a(r,l-(e-g)):r}(e))}function S(e){return d=void 0,m&&u?E(e):(u=c=void 0,p)}function O(){var e=o(),r=v(e);if(u=arguments,c=this,f=e,r){if(void 0===d)return b(f);if(h)return clearTimeout(d),d=setTimeout(_,t),E(f)}return void 0===d&&(d=setTimeout(_,t)),p}return t=i(t)||0,n(r)&&(y=!!r.leading,l=(h="maxWait"in r)?s(i(r.maxWait)||0,t):l,m="trailing"in r?!!r.trailing:m),O.cancel=function(){void 0!==d&&clearTimeout(d),g=0,u=f=c=d=void 0},O.flush=function(){return void 0===d?p:S(o())},O}},3218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},3448:(e,t,r)=>{var n=r(4239),o=r(7005);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==n(e)}},7771:(e,t,r)=>{var n=r(5639);e.exports=function(){return n.Date.now()}},4841:(e,t,r)=>{var n=r(7561),o=r(3218),i=r(3448),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=a.test(e);return r||u.test(e)?c(e.slice(2),r?2:8):s.test(e)?NaN:+e}},631:(e,t,r)=>{var n="function"==typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=n&&o&&"function"==typeof o.get?o.get:null,s=n&&Map.prototype.forEach,a="function"==typeof Set&&Set.prototype,u=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=a&&u&&"function"==typeof u.get?u.get:null,l=a&&Set.prototype.forEach,p="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,d="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,f="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,g=Boolean.prototype.valueOf,y=Object.prototype.toString,h=Function.prototype.toString,m=String.prototype.match,E=String.prototype.slice,b=String.prototype.replace,v=String.prototype.toUpperCase,_=String.prototype.toLowerCase,S=RegExp.prototype.test,O=Array.prototype.concat,T=Array.prototype.join,R=Array.prototype.slice,w=Math.floor,A="function"==typeof BigInt?BigInt.prototype.valueOf:null,I=Object.getOwnPropertySymbols,P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,N="function"==typeof Symbol&&"object"==typeof Symbol.iterator,k="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,x=Object.prototype.propertyIsEnumerable,D=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function C(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||S.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var n=e<0?-w(-e):w(e);if(n!==e){var o=String(n),i=E.call(t,o.length+1);return b.call(o,r,"$&_")+"."+b.call(b.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(t,r,"$&_")}var M=r(4654).custom,L=M&&B(M)?M:null;function U(e,t,r){var n="double"===(r.quoteStyle||t)?'"':"'";return n+e+n}function $(e){return b.call(String(e),/"/g,"&quot;")}function j(e){return!("[object Array]"!==Y(e)||k&&"object"==typeof e&&k in e)}function B(e){if(N)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!P)return!1;try{return P.call(e),!0}catch(e){}return!1}e.exports=function e(t,r,n,o){var a=r||{};if(F(a,"quoteStyle")&&"single"!==a.quoteStyle&&"double"!==a.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(F(a,"maxStringLength")&&("number"==typeof a.maxStringLength?a.maxStringLength<0&&a.maxStringLength!==1/0:null!==a.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var u=!F(a,"customInspect")||a.customInspect;if("boolean"!=typeof u&&"symbol"!==u)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(F(a,"indent")&&null!==a.indent&&"\t"!==a.indent&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(F(a,"numericSeparator")&&"boolean"!=typeof a.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var y=a.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return function e(t,r){if(t.length>r.maxStringLength){var n=t.length-r.maxStringLength,o="... "+n+" more character"+(n>1?"s":"");return e(E.call(t,0,r.maxStringLength),r)+o}return U(b.call(b.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,K),"single",r)}(t,a);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var v=String(t);return y?C(t,v):v}if("bigint"==typeof t){var S=String(t)+"n";return y?C(t,S):S}var w=void 0===a.depth?5:a.depth;if(void 0===n&&(n=0),n>=w&&w>0&&"object"==typeof t)return j(t)?"[Array]":"[Object]";var I=function(e,t){var r;if("\t"===e.indent)r="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;r=T.call(Array(e.indent+1)," ")}return{base:r,prev:T.call(Array(t+1),r)}}(a,n);if(void 0===o)o=[];else if(H(o,t)>=0)return"[Circular]";function M(t,r,i){if(r&&(o=R.call(o)).push(r),i){var s={depth:a.depth};return F(a,"quoteStyle")&&(s.quoteStyle=a.quoteStyle),e(t,s,n+1,o)}return e(t,a,n+1,o)}if("function"==typeof t){var G=function(e){if(e.name)return e.name;var t=m.call(h.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),J=Z(t,M);return"[Function"+(G?": "+G:" (anonymous)")+"]"+(J.length>0?" { "+T.call(J,", ")+" }":"")}if(B(t)){var X=N?b.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):P.call(t);return"object"!=typeof t||N?X:W(X)}if(function(e){return!(!e||"object"!=typeof e)&&("undefined"!=typeof HTMLElement&&e instanceof HTMLElement||"string"==typeof e.nodeName&&"function"==typeof e.getAttribute)}(t)){for(var Q="<"+_.call(String(t.nodeName)),ee=t.attributes||[],te=0;te<ee.length;te++)Q+=" "+ee[te].name+"="+U($(ee[te].value),"double",a);return Q+=">",t.childNodes&&t.childNodes.length&&(Q+="..."),Q+"</"+_.call(String(t.nodeName))+">"}if(j(t)){if(0===t.length)return"[]";var re=Z(t,M);return I&&!function(e){for(var t=0;t<e.length;t++)if(H(e[t],"\n")>=0)return!1;return!0}(re)?"["+z(re,I)+"]":"[ "+T.call(re,", ")+" ]"}if(function(e){return!("[object Error]"!==Y(e)||k&&"object"==typeof e&&k in e)}(t)){var ne=Z(t,M);return"cause"in t&&!x.call(t,"cause")?"{ ["+String(t)+"] "+T.call(O.call("[cause]: "+M(t.cause),ne),", ")+" }":0===ne.length?"["+String(t)+"]":"{ ["+String(t)+"] "+T.call(ne,", ")+" }"}if("object"==typeof t&&u){if(L&&"function"==typeof t[L])return t[L]();if("symbol"!==u&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!i||!e||"object"!=typeof e)return!1;try{i.call(e);try{c.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var oe=[];return s.call(t,(function(e,r){oe.push(M(r,t,!0)+" => "+M(e,t))})),q("Map",i.call(t),oe,I)}if(function(e){if(!c||!e||"object"!=typeof e)return!1;try{c.call(e);try{i.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var ie=[];return l.call(t,(function(e){ie.push(M(e,t))})),q("Set",c.call(t),ie,I)}if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{p.call(e,p);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return V("WeakMap");if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{p.call(e,p)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return V("WeakSet");if(function(e){if(!f||!e||"object"!=typeof e)return!1;try{return f.call(e),!0}catch(e){}return!1}(t))return V("WeakRef");if(function(e){return!("[object Number]"!==Y(e)||k&&"object"==typeof e&&k in e)}(t))return W(M(Number(t)));if(function(e){if(!e||"object"!=typeof e||!A)return!1;try{return A.call(e),!0}catch(e){}return!1}(t))return W(M(A.call(t)));if(function(e){return!("[object Boolean]"!==Y(e)||k&&"object"==typeof e&&k in e)}(t))return W(g.call(t));if(function(e){return!("[object String]"!==Y(e)||k&&"object"==typeof e&&k in e)}(t))return W(M(String(t)));if(!function(e){return!("[object Date]"!==Y(e)||k&&"object"==typeof e&&k in e)}(t)&&!function(e){return!("[object RegExp]"!==Y(e)||k&&"object"==typeof e&&k in e)}(t)){var se=Z(t,M),ae=D?D(t)===Object.prototype:t instanceof Object||t.constructor===Object,ue=t instanceof Object?"":"null prototype",ce=!ae&&k&&Object(t)===t&&k in t?E.call(Y(t),8,-1):ue?"Object":"",le=(ae||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(ce||ue?"["+T.call(O.call([],ce||[],ue||[]),": ")+"] ":"");return 0===se.length?le+"{}":I?le+"{"+z(se,I)+"}":le+"{ "+T.call(se,", ")+" }"}return String(t)};var G=Object.prototype.hasOwnProperty||function(e){return e in this};function F(e,t){return G.call(e,t)}function Y(e){return y.call(e)}function H(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function K(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+v.call(t.toString(16))}function W(e){return"Object("+e+")"}function V(e){return e+" { ? }"}function q(e,t,r,n){return e+" ("+t+") {"+(n?z(r,n):T.call(r,", "))+"}"}function z(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+T.call(e,","+r)+"\n"+t.prev}function Z(e,t){var r=j(e),n=[];if(r){n.length=e.length;for(var o=0;o<e.length;o++)n[o]=F(e,o)?t(e[o],e):""}var i,s="function"==typeof I?I(e):[];if(N){i={};for(var a=0;a<s.length;a++)i["$"+s[a]]=s[a]}for(var u in e)F(e,u)&&(r&&String(Number(u))===u&&u<e.length||N&&i["$"+u]instanceof Symbol||(S.call(/[^\w$]/,u)?n.push(t(u,e)+": "+t(e[u],e)):n.push(u+": "+t(e[u],e))));if("function"==typeof I)for(var c=0;c<s.length;c++)x.call(e,s[c])&&n.push("["+t(s[c])+"]: "+t(e[s[c]],e));return n}},4244:e=>{"use strict";var t=function(e){return e!=e};e.exports=function(e,r){return 0===e&&0===r?1/e==1/r:e===r||!(!t(e)||!t(r))}},609:(e,t,r)=>{"use strict";var n=r(4289),o=r(5559),i=r(4244),s=r(5624),a=r(2281),u=o(s(),Object);n(u,{getPolyfill:s,implementation:i,shim:a}),e.exports=u},5624:(e,t,r)=>{"use strict";var n=r(4244);e.exports=function(){return"function"==typeof Object.is?Object.is:n}},2281:(e,t,r)=>{"use strict";var n=r(5624),o=r(4289);e.exports=function(){var e=n();return o(Object,{is:e},{is:function(){return Object.is!==e}}),e}},8987:(e,t,r)=>{"use strict";var n;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,s=r(1414),a=Object.prototype.propertyIsEnumerable,u=!a.call({toString:null},"toString"),c=a.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=function(e){var t=e.constructor;return t&&t.prototype===e},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!d["$"+e]&&o.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{p(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();n=function(e){var t=null!==e&&"object"==typeof e,r="[object Function]"===i.call(e),n=s(e),a=t&&"[object String]"===i.call(e),d=[];if(!t&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var g=c&&r;if(a&&e.length>0&&!o.call(e,0))for(var y=0;y<e.length;++y)d.push(String(y));if(n&&e.length>0)for(var h=0;h<e.length;++h)d.push(String(h));else for(var m in e)g&&"prototype"===m||!o.call(e,m)||d.push(String(m));if(u)for(var E=function(e){if("undefined"==typeof window||!f)return p(e);try{return p(e)}catch(e){return!1}}(e),b=0;b<l.length;++b)E&&"constructor"===l[b]||!o.call(e,l[b])||d.push(l[b]);return d}}e.exports=n},2215:(e,t,r)=>{"use strict";var n=Array.prototype.slice,o=r(1414),i=Object.keys,s=i?function(e){return i(e)}:r(8987),a=Object.keys;s.shim=function(){return Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return o(e)?a(n.call(e)):a(e)}):Object.keys=s,Object.keys||s},e.exports=s},1414:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){var r=t.call(e),n="[object Arguments]"===r;return n||(n="[object Array]"!==r&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),n}},2837:(e,t,r)=>{"use strict";var n=r(2215),o=function(e){return null!=e},i=r(5419)(),s=r(1924),a=Object,u=s("Array.prototype.push"),c=s("Object.prototype.propertyIsEnumerable"),l=i?Object.getOwnPropertySymbols:null;e.exports=function(e,t){if(!o(e))throw new TypeError("target must be an object");var r,s,p,d,f,g,y,h=a(e);for(r=1;r<arguments.length;++r){s=a(arguments[r]),d=n(s);var m=i&&(Object.getOwnPropertySymbols||l);if(m)for(f=m(s),p=0;p<f.length;++p)y=f[p],c(s,y)&&u(d,y);for(p=0;p<d.length;++p)g=s[y=d[p]],c(s,y)&&(h[y]=g)}return h}},3533:(e,t,r)=>{"use strict";var n=r(4289),o=r(5559),i=r(2837),s=r(8162),a=r(4489),u=o.apply(s()),c=function(e,t){return u(Object,arguments)};n(c,{getPolyfill:s,implementation:i,shim:a}),e.exports=c},8162:(e,t,r)=>{"use strict";var n=r(2837);e.exports=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),r={},n=0;n<t.length;++n)r[t[n]]=t[n];var o=Object.assign({},r),i="";for(var s in o)i+=s;return e!==i}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}return!1}()?n:Object.assign:n}},4489:(e,t,r)=>{"use strict";var n=r(4289),o=r(8162);e.exports=function(){var e=o();return n(Object,{assign:e},{assign:function(){return Object.assign!==e}}),e}},3697:e=>{"use strict";var t=Object,r=TypeError;e.exports=function(){if(null!=this&&this!==t(this))throw new r("RegExp.prototype.flags getter called on non-object");var e="";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e}},2847:(e,t,r)=>{"use strict";var n=r(4289),o=r(5559),i=r(3697),s=r(1721),a=r(2753),u=o(i);n(u,{getPolyfill:s,implementation:i,shim:a}),e.exports=u},1721:(e,t,r)=>{"use strict";var n=r(3697),o=r(4289).supportsDescriptors,i=Object.getOwnPropertyDescriptor,s=TypeError;e.exports=function(){if(!o)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var e=i(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof/a/.dotAll)return e.get}return n}},2753:(e,t,r)=>{"use strict";var n=r(4289).supportsDescriptors,o=r(1721),i=Object.getOwnPropertyDescriptor,s=Object.defineProperty,a=TypeError,u=Object.getPrototypeOf,c=/a/;e.exports=function(){if(!n||!u)throw new a("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=o(),t=u(c),r=i(t,"flags");return r&&r.get===e||s(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},7478:(e,t,r)=>{"use strict";var n=r(210),o=r(1924),i=r(631),s=n("%TypeError%"),a=n("%WeakMap%",!0),u=n("%Map%",!0),c=o("WeakMap.prototype.get",!0),l=o("WeakMap.prototype.set",!0),p=o("WeakMap.prototype.has",!0),d=o("Map.prototype.get",!0),f=o("Map.prototype.set",!0),g=o("Map.prototype.has",!0),y=function(e,t){for(var r,n=e;null!==(r=n.next);n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r};e.exports=function(){var e,t,r,n={assert:function(e){if(!n.has(e))throw new s("Side channel does not contain "+i(e))},get:function(n){if(a&&n&&("object"==typeof n||"function"==typeof n)){if(e)return c(e,n)}else if(u){if(t)return d(t,n)}else if(r)return function(e,t){var r=y(e,t);return r&&r.value}(r,n)},has:function(n){if(a&&n&&("object"==typeof n||"function"==typeof n)){if(e)return p(e,n)}else if(u){if(t)return g(t,n)}else if(r)return function(e,t){return!!y(e,t)}(r,n);return!1},set:function(n,o){a&&n&&("object"==typeof n||"function"==typeof n)?(e||(e=new a),l(e,n,o)):u?(t||(t=new u),f(t,n,o)):(r||(r={key:{},next:null}),function(e,t,r){var n=y(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}}(r,n,o))}};return n}},3843:(e,t,r)=>{"use strict";r(8862),r(3948),r(9720);class n extends Error{constructor(e){super(n._prepareSuperMessage(e)),Object.defineProperty(this,"name",{value:"NonError",configurable:!0,writable:!0}),Error.captureStackTrace&&Error.captureStackTrace(this,n)}static _prepareSuperMessage(e){try{return JSON.stringify(e)}catch(t){return String(e)}}}const o=[{property:"name",enumerable:!1},{property:"message",enumerable:!1},{property:"stack",enumerable:!1},{property:"code",enumerable:!0}],i=({from:e,seen:t,to_:r,forceEnumerable:n})=>{const s=r||(Array.isArray(e)?[]:{});t.push(e);for(const[o,a]of Object.entries(e))"function"!=typeof a&&(a&&"object"==typeof a?t.includes(e[o])?s[o]="[Circular]":s[o]=i({from:e[o],seen:t.slice(),forceEnumerable:n}):s[o]=a);for(const{property:i,enumerable:a}of o)"string"==typeof e[i]&&Object.defineProperty(s,i,{value:e[i],enumerable:!!n||a,configurable:!0,writable:!0});return s};e.exports={serializeError:e=>"object"==typeof e&&null!==e?i({from:e,seen:[],forceEnumerable:!0}):"function"==typeof e?`[Function: ${e.name||"anonymous"}]`:e,deserializeError:e=>{if(e instanceof Error)return e;if("object"==typeof e&&null!==e&&!Array.isArray(e)){const t=new Error;return i({from:e,seen:[],to_:t}),t}return new n(e)}}},3679:(e,t,r)=>{"use strict";var n=r(9981),o=r(4578),i=r(6814),s=r(2636),a=r(3376);e.exports=function(e){return null==e||"object"!=typeof e&&"function"!=typeof e?null:n(e)?"String":o(e)?"Number":i(e)?"Boolean":s(e)?"Symbol":a(e)?"BigInt":void 0}},6430:(e,t,r)=>{"use strict";var n=r(9804),o=r(3083),i=r(1924),s=i("Object.prototype.toString"),a=r(6410)(),u="undefined"==typeof globalThis?r.g:globalThis,c=o(),l=i("String.prototype.slice"),p={},d=r(882),f=Object.getPrototypeOf;a&&d&&f&&n(c,(function(e){if("function"==typeof u[e]){var t=new u[e];if(Symbol.toStringTag in t){var r=f(t),n=d(r,Symbol.toStringTag);if(!n){var o=f(r);n=d(o,Symbol.toStringTag)}p[e]=n.get}}}));var g=r(5692);e.exports=function(e){return!!g(e)&&(a&&Symbol.toStringTag in e?function(e){var t=!1;return n(p,(function(r,n){if(!t)try{var o=r.call(e);o===n&&(t=o)}catch(e){}})),t}(e):l(s(e),8,-1))}},4654:()=>{},3083:(e,t,r)=>{"use strict";var n=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],o="undefined"==typeof globalThis?r.g:globalThis;e.exports=function(){for(var e=[],t=0;t<n.length;t++)"function"==typeof o[n[t]]&&(e[e.length]=n[t]);return e}},882:(e,t,r)=>{"use strict";var n=r(210)("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(e){n=null}e.exports=n},3216:(e,t,r)=>{"use strict";var n=r(2584);if(r(1405)()||r(5419)()){var o=Symbol.iterator;e.exports=function(e){return null!=e&&void 0!==e[o]?e[o]():n(e)?Array.prototype[o].call(e):void 0}}else{var i=r(5826),s=r(9981),a=r(210),u=a("%Map%",!0),c=a("%Set%",!0),l=r(1924),p=l("Array.prototype.push"),d=l("String.prototype.charCodeAt"),f=l("String.prototype.slice"),g=function(e){var t=0;return{next:function(){var r,n=t>=e.length;return n||(r=e[t],t+=1),{done:n,value:r}}}},y=function(e,t){if(i(e)||n(e))return g(e);if(s(e)){var r=0;return{next:function(){var t=function(e,t){if(t+1>=e.length)return t+1;var r=d(e,t);if(r<55296||r>56319)return t+1;var n=d(e,t+1);return n<56320||n>57343?t+1:t+2}(e,r),n=f(e,r,t);return r=t,{done:t>e.length,value:n}}}}return t&&void 0!==e["_es6-shim iterator_"]?e["_es6-shim iterator_"]():void 0};if(u||c){var h=r(8379),m=r(9572),E=l("Map.prototype.forEach",!0),b=l("Set.prototype.forEach",!0);if("undefined"==typeof process||!process.versions||!process.versions.node)var v=l("Map.prototype.iterator",!0),_=l("Set.prototype.iterator",!0),S=function(e){var t=!1;return{next:function(){try{return{done:t,value:t?void 0:e.next()}}catch(e){return t=!0,{done:!0,value:void 0}}}}};var O=l("Map.prototype.@@iterator",!0)||l("Map.prototype._es6-shim iterator_",!0),T=l("Set.prototype.@@iterator",!0)||l("Set.prototype._es6-shim iterator_",!0);e.exports=function(e){return function(e){if(h(e)){if(v)return S(v(e));if(O)return O(e);if(E){var t=[];return E(e,(function(e,r){p(t,[r,e])})),g(t)}}if(m(e)){if(_)return S(_(e));if(T)return T(e);if(b){var r=[];return b(e,(function(e){p(r,e)})),g(r)}}}(e)||y(e)}}else e.exports=function(e){if(null!=e)return y(e,!0)}}},3483:(e,t,r)=>{"use strict";var n=r(8379),o=r(9572),i=r(1718),s=r(5899);e.exports=function(e){if(e&&"object"==typeof e){if(n(e))return"Map";if(o(e))return"Set";if(i(e))return"WeakMap";if(s(e))return"WeakSet"}return!1}}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var i=r[e]={exports:{}};return t[e](i,i.exports,n),i.exports}n.m=t,e=[],n.O=(t,r,o,i)=>{if(!r){var s=1/0;for(l=0;l<e.length;l++){for(var[r,o,i]=e[l],a=!0,u=0;u<r.length;u++)(!1&i||s>=i)&&Object.keys(n.O).every((e=>n.O[e](r[u])))?r.splice(u--,1):(a=!1,i<s&&(s=i));if(a){e.splice(l--,1);var c=o();void 0!==c&&(t=c)}}return t}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[r,o,i]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={143:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var o,i,[s,a,u]=r,c=0;if(s.some((t=>0!==e[t]))){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(u)var l=u(n)}for(t&&t(r);c<s.length;c++)i=s[c],n.o(e,i)&&e[i]&&e[i][0](),e[s[c]]=0;return n.O(l)},r=self.webpackChunkdata_bridge=self.webpackChunkdata_bridge||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var o=n.O(void 0,[998],(()=>n(4984)));o=n.O(o),module.exports=o})();